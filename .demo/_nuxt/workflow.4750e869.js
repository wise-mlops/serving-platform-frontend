var Pl=Object.defineProperty;var Ol=(e,t,n)=>t in e?Pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var De=(e,t,n)=>(Ol(e,typeof t!="symbol"?t+"":t,n),n);import{a as de,o as H,c as ue,w as ae,f as ie,x as nt,y as Et,e as K,F as ye,v as Ie,G as fe,H as Il,V as Ri,k as Un,I as Bl,J as Tl,K as Yi,L as Xi,M as z,r as ne,N as Z,b as Be,O as le,u as N,P as Me,Q as ft,R as pe,T as Hi,S as Xo,U as ot,W as Vl,X as ji,Y as Wn,Z as ve,$ as Dl,a0 as Mn,a1 as Ho,h as ce,a2 as be,a3 as Ke,a4 as jo,a5 as Ll,a6 as Rl,a7 as ct,a8 as Yt,i as Fi,a9 as Fo,aa as Yl,n as Ui,ab as Wi,ac as _t,ad as Xl,g as Hl,B as jl,ae as Fl,af as Ul,j as Wl,p as ql,q as Zl,s as Gl}from"./entry.cc70f54d.js";const Kl=de({__name:"WorkflowDetail",props:{operatorAttributes:null},emits:["toggle-drawer"],setup(e,{emit:t}){const n=e,o={SAVE_BTN:"saveBtn",CLOSE_BTN:"closeBtn"},r=()=>{t(o.SAVE_BTN,n.operatorAttributes.value)},i=()=>{t(o.CLOSE_BTN,!1)};return(a,l)=>{const s=Il,u=Ri,c=Un,h=Bl,d=Tl,p=Yi;return H(),ue(p,{position:"right",style:{display:"table-cell"}},{default:ae(()=>[ie(d,{square:"",style:{"flex-grow":"1",height:"100%"}},{default:ae(()=>[ie(s,null,{default:ae(()=>[nt(Et(n.operatorAttributes.operatorName),1)]),_:1}),ie(h,null,{default:ae(()=>[(H(!0),K(ye,null,Ie(n.operatorAttributes.view,(b,m)=>(H(),K("div",{key:m},[b.hidden?fe("",!0):(H(),ue(u,{key:0,class:"attribute-input",label:m,modelValue:n.operatorAttributes.value[m],"onUpdate:modelValue":k=>n.operatorAttributes.value[m]=k,type:b.type,"min-rows":3,"max-rows":5},null,8,["label","modelValue","onUpdate:modelValue","type"]))]))),128)),ie(c,{class:"attribute-btn margin-right-5",preset:"primary",onClick:r},{default:ae(()=>[nt("저장")]),_:1}),ie(c,{class:"attribute-btn margin-left-5",preset:"primary",onClick:i},{default:ae(()=>[nt("닫기")]),_:1})]),_:1})]),_:1})]),_:1})}}});var Ql=Object.defineProperty,Jl=(e,t,n)=>t in e?Ql(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bo=(e,t,n)=>(Jl(e,typeof t!="symbol"?t+"":t,n),n),br;const qi=typeof window<"u",es=e=>typeof e<"u",ts=e=>typeof e=="boolean",Fe=e=>typeof e=="function",it=e=>typeof e=="number",Je=e=>typeof e=="string",ns=()=>{};qi&&((br=window==null?void 0:window.navigator)!=null&&br.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function wt(e){return typeof e=="function"?e():N(e)}function os(e,t){function n(...o){e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})}return n}const Zi=e=>e();function rs(e=Zi){const t=ne(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:t,pause:n,resume:o,eventFilter:(...r)=>{t.value&&e(...r)}}}function xr(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function is(e){return e}function $r(e,t){let n,o,r;const i=ne(!0),a=()=>{i.value=!0,r()};ve(e,a,{flush:"sync"});const l=Fe(t)?t:t.get,s=Fe(t)?void 0:t.set,u=Yl((c,h)=>(o=c,r=h,{get(){return i.value&&(n=l(),i.value=!1),o(),n},set(d){s==null||s(d)}}));return Object.isExtensible(u)&&(u.trigger=a),u}function q(){const e=[],t=n=>{const o=e.indexOf(n);o!==-1&&e.splice(o,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:n=>{e.forEach(o=>o(n))}}}function Jt(e){return Xo()?(Yt(e),!0):!1}function as(e,t=!0){Wn()?Be(e):t?e():ct(e)}function xo(e,t=!1){function n(h,{flush:d="sync",deep:p=!1,timeout:b,throwOnTimeout:m}={}){let k=null;const g=[new Promise(B=>{k=ve(e,C=>{h(C)!==t&&(k==null||k(),B(C))},{flush:d,deep:p,immediate:!0})})];return b!=null&&g.push(xr(b,m).then(()=>wt(e)).finally(()=>k==null?void 0:k())),Promise.race(g)}function o(h,d){if(!Fi(h))return n(C=>C===h,d);const{flush:p="sync",deep:b=!1,timeout:m,throwOnTimeout:k}=d??{};let g=null;const B=[new Promise(C=>{g=ve([e,h],([_,I])=>{t!==(_===I)&&(g==null||g(),C(_))},{flush:p,deep:b,immediate:!0})})];return m!=null&&B.push(xr(m,k).then(()=>wt(e)).finally(()=>(g==null||g(),wt(e)))),Promise.race(B)}function r(h){return n(d=>Boolean(d),h)}function i(h){return o(null,h)}function a(h){return o(void 0,h)}function l(h){return n(Number.isNaN,h)}function s(h,d){return n(p=>{const b=Array.from(p);return b.includes(h)||b.includes(wt(h))},d)}function u(h){return c(1,h)}function c(h=1,d){let p=-1;return n(()=>(p+=1,p>=h),d)}return Array.isArray(wt(e))?{toMatch:n,toContains:s,changed:u,changedTimes:c,get not(){return xo(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:i,toBeNaN:l,toBeUndefined:a,changed:u,changedTimes:c,get not(){return xo(e,!t)}}}function pt(e){return xo(e)}var kr=Object.getOwnPropertySymbols,ls=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable,us=(e,t)=>{var n={};for(var o in e)ls.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&kr)for(var o of kr(e))t.indexOf(o)<0&&ss.call(e,o)&&(n[o]=e[o]);return n};function cs(e,t,n={}){const o=n,{eventFilter:r=Zi}=o,i=us(o,["eventFilter"]);return ve(e,os(r,t),i)}var ds=Object.defineProperty,hs=Object.defineProperties,fs=Object.getOwnPropertyDescriptors,Cn=Object.getOwnPropertySymbols,Gi=Object.prototype.hasOwnProperty,Ki=Object.prototype.propertyIsEnumerable,Er=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ps=(e,t)=>{for(var n in t||(t={}))Gi.call(t,n)&&Er(e,n,t[n]);if(Cn)for(var n of Cn(t))Ki.call(t,n)&&Er(e,n,t[n]);return e},vs=(e,t)=>hs(e,fs(t)),gs=(e,t)=>{var n={};for(var o in e)Gi.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Cn)for(var o of Cn(e))t.indexOf(o)<0&&Ki.call(e,o)&&(n[o]=e[o]);return n};function mt(e,t,n={}){const o=n,{eventFilter:r}=o,i=gs(o,["eventFilter"]),{eventFilter:a,pause:l,resume:s,isActive:u}=rs(r);return{stop:cs(e,t,vs(ps({},i),{eventFilter:a})),pause:l,resume:s,isActive:u}}function Qi(e){var t;const n=wt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Uo=qi?window:void 0;function Wo(...e){let t,n,o,r;if(Je(e[0])||Array.isArray(e[0])?([n,o,r]=e,t=Uo):[t,n,o,r]=e,!t)return ns;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},l=(c,h,d)=>(c.addEventListener(h,d,r),()=>c.removeEventListener(h,d,r)),s=ve(()=>Qi(t),c=>{a(),c&&i.push(...n.flatMap(h=>o.map(d=>l(c,h,d))))},{immediate:!0,flush:"post"}),u=()=>{s(),a()};return Jt(u),u}const ms=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function Nr(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Uo,eventName:i="keydown",passive:a=!1}=o,l=ms(t);return Wo(r,i,s=>{l(s)&&n(s)},a)}function ys(e,t=!1){const n=ne(),o=()=>n.value=Boolean(e());return o(),as(o,t),n}function ws(e){return JSON.parse(JSON.stringify(e))}const Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr="__vueuse_ssr_handlers__";Sr[Mr]=Sr[Mr]||{};var Cr=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,bs=Object.prototype.propertyIsEnumerable,xs=(e,t)=>{var n={};for(var o in e)_s.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Cr)for(var o of Cr(e))t.indexOf(o)<0&&bs.call(e,o)&&(n[o]=e[o]);return n};function $s(e,t,n={}){const o=n,{window:r=Uo}=o,i=xs(o,["window"]);let a;const l=ys(()=>r&&"ResizeObserver"in r),s=()=>{a&&(a.disconnect(),a=void 0)},u=ve(()=>Qi(e),h=>{s(),l.value&&r&&h&&(a=new ResizeObserver(t),a.observe(h,i))},{immediate:!0,flush:"post"}),c=()=>{s(),u()};return Jt(c),{isSupported:l,stop:c}}var zr;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(zr||(zr={}));var ks=Object.defineProperty,Ar=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,Ns=Object.prototype.propertyIsEnumerable,Pr=(e,t,n)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ss=(e,t)=>{for(var n in t||(t={}))Es.call(t,n)&&Pr(e,n,t[n]);if(Ar)for(var n of Ar(t))Ns.call(t,n)&&Pr(e,n,t[n]);return e};const Ms={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ss({linear:is},Ms);function Xt(e,t,n,o={}){var r,i,a;const{clone:l=!1,passive:s=!1,eventName:u,deep:c=!1,defaultValue:h}=o,d=Wn(),p=n||(d==null?void 0:d.emit)||((r=d==null?void 0:d.$emit)==null?void 0:r.bind(d))||((a=(i=d==null?void 0:d.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(d==null?void 0:d.proxy));let b=u;t||(t="modelValue"),b=u||b||`update:${t.toString()}`;const m=g=>l?Fe(l)?l(g):ws(g):g,k=()=>es(e[t])?m(e[t]):h;if(s){const g=k(),B=ne(g);return ve(()=>e[t],C=>B.value=m(C)),ve(B,C=>{(C!==e[t]||c)&&p(b,C)},{deep:c}),B}else return Z({get(){return k()},set(g){p(b,g)}})}const Cs=()=>({edgesChange:q(),nodesChange:q(),nodeDoubleClick:q(),nodeClick:q(),nodeMouseEnter:q(),nodeMouseMove:q(),nodeMouseLeave:q(),nodeContextMenu:q(),nodeDragStart:q(),nodeDrag:q(),nodeDragStop:q(),nodesInitialized:q(),miniMapNodeClick:q(),miniMapNodeDoubleClick:q(),miniMapNodeMouseEnter:q(),miniMapNodeMouseMove:q(),miniMapNodeMouseLeave:q(),connect:q(),connectStart:q(),connectEnd:q(),paneReady:q(),move:q(),moveStart:q(),moveEnd:q(),selectionDragStart:q(),selectionDrag:q(),selectionDragStop:q(),selectionContextMenu:q(),selectionStart:q(),selectionEnd:q(),viewportChangeStart:q(),viewportChange:q(),viewportChangeEnd:q(),paneScroll:q(),paneClick:q(),paneContextMenu:q(),paneMouseEnter:q(),paneMouseMove:q(),paneMouseLeave:q(),edgeContextMenu:q(),edgeMouseEnter:q(),edgeMouseMove:q(),edgeMouseLeave:q(),edgeDoubleClick:q(),edgeClick:q(),edgeUpdateStart:q(),edgeUpdate:q(),edgeUpdateEnd:q(),updateNodeInternals:q()});function zs(e,t){Dl(()=>{for(const[n,o]of Object.entries(t.value)){const r=i=>{e(n,i)};o.on(r),Jt(()=>{o.off(r)})}})}const As=["production","prod"],ke=(e,...t)=>{As.includes("production")||console.warn(`[Vue Flow]: ${e}`,...t)},en=()=>typeof window<"u"?window:{chrome:!1},Or=e=>({...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}),$o=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},qn=e=>({width:e.offsetWidth,height:e.offsetHeight}),zn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ji=(e,t)=>({x:zn(e.x,t[0][0],t[1][0]),y:zn(e.y,t[0][1],t[1][1])}),lo=e=>{const t=e.getRootNode(),n=en();return"elementFromPoint"in t?t:n.document},tn=e=>e&&"id"in e&&"source"in e&&"target"in e,qo=e=>tn(e)&&"sourceNode"in e&&"targetNode"in e,ea=e=>e&&"id"in e&&!tn(e),et=e=>ea(e)&&"computedPosition"in e,Ps=e=>!!e.width&&!!e.height&&!!e.x&&!!e.y,Os=(e,t,n)=>{var o;let r=n;return et(e)||(r={type:(o=e.type)!=null?o:"default",dimensions:_t({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:_t({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,...n,data:me(e.data)?e.data:{},events:_t(me(e.events)?e.events:{})}),{...r,...e,id:e.id.toString()}},ta=(e,t)=>{var n,o,r,i,a;const l=me(e.events)?e.events:t!=null&&t.events&&me(t==null?void 0:t.events)?t==null?void 0:t.events:{},s=me(e.data)?e.data:t!=null&&t.data&&me(t==null?void 0:t.data)?t==null?void 0:t.data:{};return t=qo(e)?t:{...t,sourceHandle:(e.sourceHandle?e.sourceHandle.toString():void 0)||(t==null?void 0:t.sourceHandle),targetHandle:(e.targetHandle?e.targetHandle.toString():void 0)||(t==null?void 0:t.targetHandle),type:(o=(n=e.type)!=null?n:t==null?void 0:t.type)!=null?o:"default",source:e.source.toString()||(t==null?void 0:t.source),target:e.target.toString()||(t==null?void 0:t.target),z:t==null?void 0:t.z,sourceX:t==null?void 0:t.sourceX,sourceY:t==null?void 0:t.sourceY,targetX:t==null?void 0:t.targetX,targetY:t==null?void 0:t.targetY,updatable:(r=e.updatable)!=null?r:t==null?void 0:t.updatable,selectable:(i=e.selectable)!=null?i:t==null?void 0:t.selectable,focusable:(a=e.focusable)!=null?a:t==null?void 0:t.focusable,data:s,events:_t(l),label:(e.label&&!Je(e.label)?_t(e.label):e.label)||(t==null?void 0:t.label),interactionWidth:e.interactionWidth||(t==null?void 0:t.interactionWidth)},Object.assign({id:e.id.toString()},e,t)},na=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`vueflow__edge-${e}${t??""}-${n}${o??""}`,oa=(e,t)=>t.some(n=>tn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ra=({x:e,y:t},{x:n,y:o,zoom:r},i,[a,l])=>{const s={x:(e-n)/r,y:(t-o)/r};return i?{x:a*Math.round(s.x/a),y:l*Math.round(s.y/l)}:s},ia=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),An=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),aa=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Is=(e,t)=>aa(ia(An(e),An(t))),Zn=e=>{const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:r={width:0,height:0}}={})=>ia(n,An({...o,...r})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return aa(t)},la=(e,t,{x:n,y:o,zoom:r}={x:0,y:0,zoom:1},i=!1,a=!1)=>{const l={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r};return e.filter(s=>{const{computedPosition:u={x:0,y:0},dimensions:c={width:0,height:0},selectable:h}=s;if(a&&!h)return!1;const d={...u,width:c.width||0,height:c.height||0},p=$o(l,d),b=typeof c.width>"u"||typeof c.height>"u"||c.width===0||c.height===0,m=i&&p>0,k=c.width*c.height;return b||m||p>=k})},Xe=(e,t)=>{const n=e.map(o=>o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))},Ir=(e,t,n,o,r,i=.1,a={x:0,y:0})=>{var l,s;const u=t/(e.width*(1+i)),c=n/(e.height*(1+i)),h=Math.min(u,c),d=zn(h,o,r),p=e.x+e.width/2,b=e.y+e.height/2,m=t/2-p*d+((l=a.x)!=null?l:0),k=n/2-b*d+((s=a.y)!=null?s:0);return{x:m,y:k,zoom:d}},Bs=(e,t)=>({x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}),sa=(e,t)=>{if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:sa(n,t):!1},at=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,me=e=>typeof N(e)<"u",Ts=(e,t)=>{if(!e.source||!e.target)return ke("Can't create edge. An edge needs a source and a target."),!1;let n;return tn(e)?n={...e}:n={...e,id:na(e)},n=ta(n),oa(n,t)?!1:n},Vs=(e,t,n)=>{if(!t.source||!t.target)return ke("Can't create new edge. An edge needs a source and a target."),!1;const o=n.find(i=>qo(i)&&i.id===e.id);if(!o)return ke(`The old edge with id=${e.id} does not exist.`),!1;const r={...e,id:na(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(o),1,r),r},Br=(e,t,n,o)=>{const r={},i=e.map(a=>{const l=Os(a,o,{...t(a.id),parentNode:a.parentNode});return a.parentNode&&(r[a.parentNode]=!0),l});return i.forEach(a=>{const l=[...i,...n];if(a.parentNode&&!l.find(s=>s.id===a.parentNode)&&ke(`Parent node ${a.parentNode} not found`),a.parentNode||r[a.id]){r[a.id]&&(a.isParent=!0);const s=a.parentNode?t(a.parentNode):void 0;s&&(s.isParent=!0)}}),i};var G=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(G||{}),Zo=(e=>(e.Partial="partial",e.Full="full",e))(Zo||{}),lt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(lt||{}),Nt=(e=>(e.Strict="strict",e.Loose="loose",e))(Nt||{}),ua=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(ua||{}),Pn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Pn||{});const Tr=Symbol("vueFlow"),Go=Symbol("nodeId"),ca=Symbol("nodeRef"),Ds=Symbol("edgeId"),Ls=Symbol("edgeRef"),Gn=Symbol("slots");function Rs(e){const t=e??ot(Go,""),n=ot(ca,null),{findNode:o,getEdges:r}=se(),i=o(t);if(!i)throw new Error(`[vue-flow]: useNode - Node with id ${t} not found!`);return{id:t,nodeEl:n,node:i,parentNode:Z(()=>i.parentNode?o(i.parentNode):void 0),connectedEdges:Z(()=>Xe([i],r.value))}}const At=(e,t,n,o,r,i,a,l,s)=>{var u,c;const h=e.touches?e.touches[0].clientX:e.clientX,d=e.touches?e.touches[0].clientY:e.clientY,p=a.elementFromPoint(h,d),b=(p==null?void 0:p.classList.contains("target"))||!1,m=(p==null?void 0:p.classList.contains("source"))||!1,k={elementBelow:p,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(p&&(b||m)&&(k.isHoveringHandle=!0,t===Nt.Strict?n&&m||!n&&b:!0)){const g=(u=p.getAttribute("data-nodeid"))!=null?u:"",B=(c=p.getAttribute("data-handleid"))!=null?c:"",C=n?g:o,_=n?B:r,I=n?o:g,w={source:C,sourceHandle:_,target:I,targetHandle:n?r:B};k.connection=w,k.isValid=(Fe(i)?i(w,{edges:l,sourceNode:s(C),targetNode:s(I)}):g!==o||B!==r)||!k.connection.target||!k.connection.source}return k},sn=e=>{e==null||e.classList.remove("vue-flow__handle-valid"),e==null||e.classList.remove("vue-flow__handle-connecting")};function da({handleId:e,nodeId:t,isValidConnection:n,type:o,elementEdgeUpdaterType:r,onEdgeUpdateEnd:i,onEdgeUpdate:a}){const l=se(),s=z(l,"edges"),u=z(l,"connectOnClick"),c=z(l,"nodesConnectable"),h=z(l,"connectionClickStartHandle"),d=z(l,"connectionMode"),p=z(l,"emits"),b=z(l,"startConnection"),m=z(l,"updateConnection"),k=z(l,"endConnection"),g=z(l,"getNode"),B=z(l,"vueFlowRef"),C=Z(()=>N(o)==="target");let _;const I=T=>{if(T.button!==0)return;const V=lo(T.target);if(!V)return;let A=n;const L=g.value(N(t));if(L&&(typeof L.connectable>"u"?c.value:L.connectable)===!1)return;n||L&&(A=C.value?L.isValidSourcePos:L.isValidTargetPos);const F=V.elementFromPoint(T.clientX,T.clientY),W=F==null?void 0:F.classList.contains("target"),ee=F==null?void 0:F.classList.contains("source");if(!B.value||!W&&!ee&&!r)return;const f=r??(W?"target":"source"),S=B.value.getBoundingClientRect();b.value({nodeId:N(t),handleId:N(e),type:N(f)},{x:T.clientX-S.left,y:T.clientY-S.top},T);function v(M){m.value({x:M.clientX-S.left,y:M.clientY-S.top});const{connection:x,elementBelow:E,isValid:D,isHoveringHandle:X}=At(M,d.value,N(C.value),N(t),N(e),A,V,s.value,g.value);if(!X)return sn(_);x.source!==x.target&&E&&(_=E,E.classList.add("vue-flow__handle-connecting"),E.classList.toggle("vue-flow__handle-valid",D))}function $(M){const{connection:x,isValid:E}=At(M,d.value,N(C.value),N(t),N(e),A,V,s.value,g.value),D=x.source===x.target;E&&!D&&(a?a(x):p.value.connect(x)),r&&(i==null||i()),sn(_),k.value(M),V.removeEventListener("mousemove",v),V.removeEventListener("mouseup",$)}V.addEventListener("mousemove",v),V.addEventListener("mouseup",$)},w=ne({x:0,y:0});return{onMouseDown:I,onTouchStart:T=>{const V=T.touches[0].clientX,A=T.touches[0].clientY,L=lo(T.target);if(!L)return;let F=n;const W=g.value(N(t));if(W&&(typeof W.connectable>"u"?c.value:W.connectable)===!1)return;n||W&&(F=C.value?W.isValidSourcePos:W.isValidTargetPos);const ee=L.elementFromPoint(V,A),f=ee==null?void 0:ee.classList.contains("target"),S=ee==null?void 0:ee.classList.contains("source");if(!B.value||!f&&!S&&!r)return;const v=r??(f?"target":"source"),$=B.value.getBoundingClientRect();b.value({nodeId:N(t),handleId:N(e),type:N(v)},{x:V-$.left,y:A-$.top},T);function M(E){m.value({x:E.touches[0].clientX-$.left,y:E.touches[0].clientY-$.top}),w.value={x:E.touches[0].clientX,y:E.touches[0].clientY};const{connection:D,elementBelow:X,isValid:te,isHoveringHandle:P}=At(E,d.value,N(C.value),N(t),N(e),F,L,s.value,g.value);if(!P)return sn(_);D.source!==D.target&&X&&(_=X,X.classList.add("vue-flow__handle-connecting"),X.classList.toggle("vue-flow__handle-valid",te))}function x(E){const{connection:D,isValid:X}=At({clientX:w.value.x,clientY:w.value.y},d.value,N(C.value),N(t),N(e),F,L,s.value,g.value),te=D.source===D.target;X&&!te&&(a?a(D):p.value.connect(D)),r&&(i==null||i()),sn(_),k.value(E),w.value={x:0,y:0},L.removeEventListener("touchmove",M),L.removeEventListener("touchend",x)}L.addEventListener("touchmove",M),L.addEventListener("touchend",x)},onClick:T=>{var V;if(u.value)if(!h.value)b.value({nodeId:N(t),type:N(o),handleId:N(e)},void 0,T,!0);else{let A=n??(()=>!0);const L=g.value(N(t));if(L&&(typeof L.connectable>"u"?c.value:L.connectable)===!1)return;n||L&&(A=(V=C.value?L.isValidSourcePos:L.isValidTargetPos)!=null?V:()=>!0);const F=lo(T.target),{connection:W,isValid:ee}=At(T,d.value,h.value.type==="target",h.value.nodeId,h.value.handleId||null,A,F,s.value,g.value),f=W.source===W.target;ee&&!f&&p.value.connect(W),k.value(T,!0)}}}}const Ys=["data-handleid","data-nodeid","data-handlepos"],Xs={name:"Handle"},tt=de({...Xs,props:{id:null,type:null,position:{default:()=>"top"},isValidConnection:null,connectable:{type:[Boolean,String,Function],default:!0}},setup(e){const t=Xi(e,["position","connectable","id","isValidConnection"]),n=z(t,"type","source"),o=se(),r=z(o,"connectionStartHandle"),i=z(o,"vueFlowRef"),a=z(o,"nodesConnectable"),{id:l,node:s,nodeEl:u,connectedEdges:c}=Rs(),h=ne(),d=Z(()=>{var g;return(g=e.id)!=null?g:`${l}__handle-${e.position}`}),{onMouseDown:p,onTouchStart:b,onClick:m}=da({nodeId:l,handleId:d.value,isValidConnection:e.isValidConnection,type:n}),k=Z(()=>Je(e.connectable)&&e.connectable==="single"?!c.value.some(g=>{const B=g[`${n.value}Handle`];return g[n.value]!==l?!1:B?B===d.value:!0}):Fe(e.connectable)?e.connectable(s,c.value):me(e.connectable)?e.connectable:a.value);return Be(()=>{pt(()=>s.initialized).toBe(!0).then(()=>{var g,B;const C=(g=s.handleBounds[n.value])==null?void 0:g.find(L=>L.id===d.value);if(!i.value||C)return;const _=i.value.querySelector(".vue-flow__transformationpane");if(!u||!h.value||!_||!d.value)return;const I=u.value.getBoundingClientRect(),w=h.value.getBoundingClientRect(),T=window.getComputedStyle(_),{m22:V}=new window.DOMMatrixReadOnly(T.transform),A={id:d.value,position:e.position,x:(w.left-I.left)/V,y:(w.top-I.top)/V,...qn(h.value)};s.handleBounds[n.value]=[...(B=s.handleBounds[n.value])!=null?B:[],A]})}),(g,B)=>(H(),K("div",{ref_key:"handle",ref:h,"data-handleid":d.value,"data-nodeid":N(l),"data-handlepos":e.position,class:Me(["vue-flow__handle nodrag",[`vue-flow__handle-${e.position}`,`vue-flow__handle-${d.value}`,{source:N(n)!=="target",target:N(n)==="target",connectable:N(k),connecting:r.value&&r.value.nodeId===N(l)&&r.value.handleId===d.value&&r.value.type===N(n)}]]),onMousedown:B[0]||(B[0]=(...C)=>N(p)&&N(p)(...C)),onTouchstart:B[1]||(B[1]=(...C)=>N(b)&&N(b)(...C)),onClick:B[2]||(B[2]=(...C)=>N(m)&&N(m)(...C))},[le(g.$slots,"default",{id:e.id})],42,Ys))}}),Ko=function({sourcePosition:e=G.Bottom,targetPosition:t=G.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:i}){return[pe(tt,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof n!="string"&&n?pe(n):pe("div",{innerHTML:n}),pe(tt,{type:"source",position:e,connectable:o,isValidConnection:i})]};Ko.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"];Ko.inheritAttrs=!1;const Hs=Ko,Qo=function({sourcePosition:e=G.Bottom,label:t,connectable:n=!0,isValidSourcePos:o}){return[typeof t!="string"&&t?pe(t):pe("div",{innerHTML:t}),pe(tt,{type:"source",position:e,connectable:n,isValidConnection:o})]};Qo.props=["sourcePosition","label","isValidSourcePos","connectable"];Qo.inheritAttrs=!1;const js=Qo,Jo=function({targetPosition:e=G.Top,label:t,connectable:n=!0,isValidTargetPos:o}){return[pe(tt,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof t!="string"&&t?pe(t):pe("div",{innerHTML:t})]};Jo.props=["targetPosition","label","isValidTargetPos","connectable"];Jo.inheritAttrs=!1;const Fs=Jo;function Vr(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n.value)return!1;o=o.parentElement}while(o);return!1}function Us(e,t,n,o){return e.filter(r=>(r.selected||r.id===o)&&(!r.parentNode||!sa(r,n))).map(r=>{var i,a;return _t({id:r.id,position:r.position||{x:0,y:0},distance:{x:t.x-((i=r.computedPosition)==null?void 0:i.x)||0,y:t.y-((a=r.computedPosition)==null?void 0:a.y)||0},from:r.computedPosition,extent:r.extent,parentNode:r.parentNode,dimensions:r.dimensions})})}function so({id:e,dragItems:t,getNode:n}){const o=t.map(r=>({...n.value(r.id)}));return[e?o.find(r=>r.id===e):o[0],o]}function Ws(e,t,n){let o=e.extent||t;if(e.extent==="parent")e.parentNode&&n&&e.dimensions.width&&e.dimensions.height?o=n&&it(n.computedPosition.x)&&it(n.computedPosition.y)&&it(n.dimensions.width)&&it(n.dimensions.height)?[[n.computedPosition.x,n.computedPosition.y],[n.computedPosition.x+n.dimensions.width-e.dimensions.width,n.computedPosition.y+n.dimensions.height-e.dimensions.height]]:o:(ke("Only child nodes can use a parent extent."),o=t);else if(e.extent&&n){const r=n.computedPosition.x,i=n.computedPosition.y;o=[[e.extent[0][0]+r,e.extent[0][1]+i],[e.extent[1][0]+r,e.extent[1][1]+i]]}return o}const On=(e,t,n,o)=>{const r=Ws(e,n,o);return{position:Ji(t,r)}};function ha(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:i}=se();return(a,l=!1)=>{const s=i.value?r.value[0]:5,u=i.value?r.value[1]:5,c=l?4:1,h=a.x*s*c,d=a.y*u*c,p=e.value.map(b=>{const m={x:b.computedPosition.x+h,y:b.computedPosition.y+d},k=On(b,m,t.value,b.parentNode?o(b.parentNode):void 0);return{id:b.id,position:k.position,from:b.position,distance:{x:a.x,y:a.y},dimensions:b.dimensions}});n(p,!0,!1)}}const qs=()=>({doubleClick:q(),click:q(),mouseEnter:q(),mouseMove:q(),mouseLeave:q(),contextMenu:q(),dragStart:q(),drag:q(),dragStop:q()});function Zs(e,t){const n=qs();return n.doubleClick.on(o=>{var r,i;t.nodeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.nodeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.nodeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.nodeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.nodeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.nodeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.dragStart.on(o=>{var r,i;t.nodeDragStart(o),(i=(r=e.events)==null?void 0:r.dragStart)==null||i.call(r,o)}),n.drag.on(o=>{var r,i;t.nodeDrag(o),(i=(r=e.events)==null?void 0:r.drag)==null||i.call(r,o)}),n.dragStop.on(o=>{var r,i;t.nodeDragStop(o),(i=(r=e.events)==null?void 0:r.dragStop)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function Gs(){const{viewport:e,snapGrid:t,snapToGrid:n}=se(),o=r=>r??n.value?t.value:void 0;return({sourceEvent:r},i)=>{const a=N(o(i)),l=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,u={x:(l-e.value.x)/e.value.zoom,y:(s-e.value.y)/e.value.zoom};return{xSnapped:a?a[0]*Math.round(u.x/a[0]):u.x,ySnapped:a?a[1]*Math.round(u.y/a[1]):u.y,...u}}}const Dr=(e,t,n)=>{const o=t.querySelectorAll(`.vue-flow__handle${e}`);if(!o||!o.length)return;const r=Array.from(o),i=t.getBoundingClientRect();return r.map(a=>{const l=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(l.left-i.left)/n,y:(l.top-i.top)/n,...qn(a)}})},ko=(e,t,n,o,r,i=!1)=>{r.value=!1,e.selected?(i||e.selected&&t)&&o([e]):n([e])};var Ks={value:()=>{}};function Kn(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new _n(n)}function _n(e){this._=e}function Qs(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}_n.prototype=Kn.prototype={constructor:_n,on:function(e,t){var n=this._,o=Qs(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=Js(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=Lr(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Lr(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _n(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function Js(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Lr(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Ks,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Eo="http://www.w3.org/1999/xhtml";const Rr={svg:"http://www.w3.org/2000/svg",xhtml:Eo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rr.hasOwnProperty(t)?{space:Rr[t],local:e}:e}function eu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Eo&&t.documentElement.namespaceURI===Eo?t.createElement(e):t.createElementNS(n,e)}}function tu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fa(e){var t=Qn(e);return(t.local?tu:eu)(t)}function nu(){}function er(e){return e==null?nu:function(){return this.querySelector(e)}}function ou(e){typeof e!="function"&&(e=er(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=new Array(a),s,u,c=0;c<a;++c)(s=i[c])&&(u=e.call(s,s.__data__,c,i))&&("__data__"in s&&(u.__data__=s.__data__),l[c]=u);return new xe(o,this._parents)}function ru(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iu(){return[]}function pa(e){return e==null?iu:function(){return this.querySelectorAll(e)}}function au(e){return function(){return ru(e.apply(this,arguments))}}function lu(e){typeof e=="function"?e=au(e):e=pa(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),r.push(s));return new xe(o,r)}function va(e){return function(){return this.matches(e)}}function ga(e){return function(t){return t.matches(e)}}var su=Array.prototype.find;function uu(e){return function(){return su.call(this.children,e)}}function cu(){return this.firstElementChild}function du(e){return this.select(e==null?cu:uu(typeof e=="function"?e:ga(e)))}var hu=Array.prototype.filter;function fu(){return Array.from(this.children)}function pu(e){return function(){return hu.call(this.children,e)}}function vu(e){return this.selectAll(e==null?fu:pu(typeof e=="function"?e:ga(e)))}function gu(e){typeof e!="function"&&(e=va(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],s,u=0;u<a;++u)(s=i[u])&&e.call(s,s.__data__,u,i)&&l.push(s);return new xe(o,this._parents)}function ma(e){return new Array(e.length)}function mu(){return new xe(this._enter||this._groups.map(ma),this._parents)}function In(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}In.prototype={constructor:In,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yu(e){return function(){return e}}function wu(e,t,n,o,r,i){for(var a=0,l,s=t.length,u=i.length;a<u;++a)(l=t[a])?(l.__data__=i[a],o[a]=l):n[a]=new In(e,i[a]);for(;a<s;++a)(l=t[a])&&(r[a]=l)}function _u(e,t,n,o,r,i,a){var l,s,u=new Map,c=t.length,h=i.length,d=new Array(c),p;for(l=0;l<c;++l)(s=t[l])&&(d[l]=p=a.call(s,s.__data__,l,t)+"",u.has(p)?r[l]=s:u.set(p,s));for(l=0;l<h;++l)p=a.call(e,i[l],l,i)+"",(s=u.get(p))?(o[l]=s,s.__data__=i[l],u.delete(p)):n[l]=new In(e,i[l]);for(l=0;l<c;++l)(s=t[l])&&u.get(d[l])===s&&(r[l]=s)}function bu(e){return e.__data__}function xu(e,t){if(!arguments.length)return Array.from(this,bu);var n=t?_u:wu,o=this._parents,r=this._groups;typeof e!="function"&&(e=yu(e));for(var i=r.length,a=new Array(i),l=new Array(i),s=new Array(i),u=0;u<i;++u){var c=o[u],h=r[u],d=h.length,p=$u(e.call(c,c&&c.__data__,u,o)),b=p.length,m=l[u]=new Array(b),k=a[u]=new Array(b),g=s[u]=new Array(d);n(c,h,m,k,g,p,t);for(var B=0,C=0,_,I;B<b;++B)if(_=m[B]){for(B>=C&&(C=B+1);!(I=k[C])&&++C<b;);_._next=I||null}}return a=new xe(a,o),a._enter=l,a._exit=s,a}function $u(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ku(){return new xe(this._exit||this._groups.map(ma),this._parents)}function Eu(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Nu(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=new Array(r),s=0;s<a;++s)for(var u=n[s],c=o[s],h=u.length,d=l[s]=new Array(h),p,b=0;b<h;++b)(p=u[b]||c[b])&&(d[b]=p);for(;s<r;++s)l[s]=n[s];return new xe(l,this._parents)}function Su(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Mu(e){e||(e=Cu);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],l=a.length,s=r[i]=new Array(l),u,c=0;c<l;++c)(u=a[c])&&(s[c]=u);s.sort(t)}return new xe(r,this._parents).order()}function Cu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function zu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Au(){return Array.from(this)}function Pu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function Ou(){let e=0;for(const t of this)++e;return e}function Iu(){return!this.node()}function Bu(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,l;i<a;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function Tu(e){return function(){this.removeAttribute(e)}}function Vu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Du(e,t){return function(){this.setAttribute(e,t)}}function Lu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ru(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Yu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xu(e,t){var n=Qn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Vu:Tu:typeof t=="function"?n.local?Yu:Ru:n.local?Lu:Du)(n,t))}function ya(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Hu(e){return function(){this.style.removeProperty(e)}}function ju(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fu(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Uu(e,t,n){return arguments.length>1?this.each((t==null?Hu:typeof t=="function"?Fu:ju)(e,t,n??"")):St(this.node(),e)}function St(e,t){return e.style.getPropertyValue(t)||ya(e).getComputedStyle(e,null).getPropertyValue(t)}function Wu(e){return function(){delete this[e]}}function qu(e,t){return function(){this[e]=t}}function Zu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Gu(e,t){return arguments.length>1?this.each((t==null?Wu:typeof t=="function"?Zu:qu)(e,t)):this.node()[e]}function wa(e){return e.trim().split(/^|\s+/)}function tr(e){return e.classList||new _a(e)}function _a(e){this._node=e,this._names=wa(e.getAttribute("class")||"")}_a.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ba(e,t){for(var n=tr(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function xa(e,t){for(var n=tr(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Ku(e){return function(){ba(this,e)}}function Qu(e){return function(){xa(this,e)}}function Ju(e,t){return function(){(t.apply(this,arguments)?ba:xa)(this,e)}}function ec(e,t){var n=wa(e+"");if(arguments.length<2){for(var o=tr(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Ju:t?Ku:Qu)(n,t))}function tc(){this.textContent=""}function nc(e){return function(){this.textContent=e}}function oc(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function rc(e){return arguments.length?this.each(e==null?tc:(typeof e=="function"?oc:nc)(e)):this.node().textContent}function ic(){this.innerHTML=""}function ac(e){return function(){this.innerHTML=e}}function lc(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function sc(e){return arguments.length?this.each(e==null?ic:(typeof e=="function"?lc:ac)(e)):this.node().innerHTML}function uc(){this.nextSibling&&this.parentNode.appendChild(this)}function cc(){return this.each(uc)}function dc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hc(){return this.each(dc)}function fc(e){var t=typeof e=="function"?e:fa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pc(){return null}function vc(e,t){var n=typeof e=="function"?e:fa(e),o=t==null?pc:typeof t=="function"?t:er(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function gc(){var e=this.parentNode;e&&e.removeChild(this)}function mc(){return this.each(gc)}function yc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _c(e){return this.select(e?wc:yc)}function bc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function xc(e){return function(t){e.call(this,t,this.__data__)}}function $c(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function kc(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Ec(e,t,n){return function(){var o=this.__on,r,i=xc(t);if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Nc(e,t,n){var o=$c(e+""),r,i=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,c;s<u;++s)for(r=0,c=l[s];r<i;++r)if((a=o[r]).type===c.type&&a.name===c.name)return c.value}return}for(l=t?Ec:kc,r=0;r<i;++r)this.each(l(o[r],t,n));return this}function $a(e,t,n){var o=ya(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Sc(e,t){return function(){return $a(this,e,t)}}function Mc(e,t){return function(){return $a(this,e,t.apply(this,arguments))}}function Cc(e,t){return this.each((typeof t=="function"?Mc:Sc)(e,t))}function*zc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var ka=[null];function xe(e,t){this._groups=e,this._parents=t}function nn(){return new xe([[document.documentElement]],ka)}function Ac(){return this}xe.prototype=nn.prototype={constructor:xe,select:ou,selectAll:lu,selectChild:du,selectChildren:vu,filter:gu,data:xu,enter:mu,exit:ku,join:Eu,merge:Nu,selection:Ac,order:Su,sort:Mu,call:zu,nodes:Au,node:Pu,size:Ou,empty:Iu,each:Bu,attr:Xu,style:Uu,property:Gu,classed:ec,text:rc,html:sc,raise:cc,lower:hc,append:fc,insert:vc,remove:mc,clone:_c,datum:bc,on:Nc,dispatch:Cc,[Symbol.iterator]:zc};function Ee(e){return typeof e=="string"?new xe([[document.querySelector(e)]],[document.documentElement]):new xe([[e]],ka)}function Pc(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ae(e,t){if(e=Pc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Oc={passive:!1},jt={capture:!0,passive:!1};function uo(e){e.stopImmediatePropagation()}function bt(e){e.preventDefault(),e.stopImmediatePropagation()}function Ea(e){var t=e.document.documentElement,n=Ee(e).on("dragstart.drag",bt,jt);"onselectstart"in t?n.on("selectstart.drag",bt,jt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Na(e,t){var n=e.document.documentElement,o=Ee(e).on("dragstart.drag",null);t&&(o.on("click.drag",bt,jt),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const un=e=>()=>e;function No(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:l,dx:s,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}No.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ic(e){return!e.ctrlKey&&!e.button}function Bc(){return this.parentNode}function Tc(e,t){return t??{x:e.x,y:e.y}}function Vc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dc(){var e=Ic,t=Bc,n=Tc,o=Vc,r={},i=Kn("start","drag","end"),a=0,l,s,u,c,h=0;function d(_){_.on("mousedown.drag",p).filter(o).on("touchstart.drag",k).on("touchmove.drag",g,Oc).on("touchend.drag touchcancel.drag",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,I){if(!(c||!e.call(this,_,I))){var w=C(this,t.call(this,_,I),_,I,"mouse");!w||(Ee(_.view).on("mousemove.drag",b,jt).on("mouseup.drag",m,jt),Ea(_.view),uo(_),u=!1,l=_.clientX,s=_.clientY,w("start",_))}}function b(_){if(bt(_),!u){var I=_.clientX-l,w=_.clientY-s;u=I*I+w*w>h}r.mouse("drag",_)}function m(_){Ee(_.view).on("mousemove.drag mouseup.drag",null),Na(_.view,u),bt(_),r.mouse("end",_)}function k(_,I){if(e.call(this,_,I)){var w=_.changedTouches,T=t.call(this,_,I),V=w.length,A,L;for(A=0;A<V;++A)(L=C(this,T,_,I,w[A].identifier,w[A]))&&(uo(_),L("start",_,w[A]))}}function g(_){var I=_.changedTouches,w=I.length,T,V;for(T=0;T<w;++T)(V=r[I[T].identifier])&&(bt(_),V("drag",_,I[T]))}function B(_){var I=_.changedTouches,w=I.length,T,V;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),T=0;T<w;++T)(V=r[I[T].identifier])&&(uo(_),V("end",_,I[T]))}function C(_,I,w,T,V,A){var L=i.copy(),F=Ae(A||w,I),W,ee,f;if((f=n.call(_,new No("beforestart",{sourceEvent:w,target:d,identifier:V,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:L}),T))!=null)return W=f.x-F[0]||0,ee=f.y-F[1]||0,function S(v,$,M){var x=F,E;switch(v){case"start":r[V]=S,E=a++;break;case"end":delete r[V],--a;case"drag":F=Ae(M||$,I),E=a;break}L.call(v,_,new No(v,{sourceEvent:$,subject:f,target:d,identifier:V,active:E,x:F[0]+W,y:F[1]+ee,dx:F[0]-x[0],dy:F[1]-x[1],dispatch:L}),T)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:un(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:un(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:un(_),d):n},d.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:un(!!_),d):o},d.on=function(){var _=i.on.apply(i,arguments);return _===i?d:_},d.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,d):Math.sqrt(h)},d}function Sa(e){const t=Mn(),n=t.run(()=>{const o=se(),r=z(o,"snapToGrid"),i=z(o,"snapGrid"),a=z(o,"noDragClassName"),l=z(o,"nodes"),s=z(o,"nodeExtent"),u=z(o,"getNode"),c=z(o,"multiSelectionActive"),h=z(o,"nodesSelectionActive"),d=z(o,"selectNodesOnDrag"),p=z(o,"removeSelectedElements"),b=z(o,"addSelectedNodes"),m=z(o,"updateNodePositions"),k=e,g=z(k,"onStart"),B=z(k,"onDrag"),C=z(k,"onStop"),_=z(k,"el"),I=z(k,"disabled",!1),w=z(k,"id"),T=ne(!1);let V=ne(),A=ne({x:void 0,y:void 0}),L=ne();const F=Gs();return ve([()=>I.value,()=>_.value],()=>{if(_.value){const W=Ee(_.value),ee=w.value?u.value(w.value):void 0;I.value?W.on(".drag",null):(L.value=Dc().on("start",f=>{!d.value&&!c.value&&w.value&&(ee!=null&&ee.selected||p.value()),ee&&!I.value&&d.value&&ko(ee,c.value,b.value,p.value,h);const S=F(f,r.value?i.value:void 0);if(V.value=Us(l.value,S,u.value,w.value),g.value&&V.value){const[v,$]=so({id:w.value,dragItems:V.value,getNode:u});g.value(f.sourceEvent,v,$)}}).on("drag",f=>{const S=F(f,r.value?i.value:void 0);let v=!1;if((A.value.x!==S.x||A.value.y!==S.y)&&V.value){if(A.value=S,V.value=V.value.map($=>{const M={x:S.x-$.distance.x,y:S.y-$.distance.y};if(r.value&&i.value){const[E,D]=i.value;M.x=E*Math.round(M.x/E),M.y=D*Math.round(M.y/D)}const{position:x}=On($,M,s.value,$.parentNode?u.value($.parentNode):void 0);return v=v||$.position.x!==M.x||$.position.y!==M.y,$.position=x,$}),!v)return;if(m.value(V.value,!0,!0),B.value){const[$,M]=so({id:w.value,dragItems:V.value,getNode:u});T.value=!0,B.value(f.sourceEvent,$,M)}}f.on("end",$=>{if(T.value=!1,C.value&&V.value){m.value(V.value,!1,!1);const[M,x]=so({id:w.value,dragItems:V.value,getNode:u});T.value=!1,C.value($.sourceEvent,M,x)}})}).on("end",()=>{T.value=!1}).filter(f=>{const S=f.target;return!f.button&&(!a.value||!Vr(S,`.${a.value}`,_)&&(!(ee!=null&&ee.dragHandle)||Vr(S,ee.dragHandle,_)))}),W.call(L.value))}}),T});return Jt(()=>t.stop()),n}function So(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target;if(e.ctrlKey||e.metaKey||e.shiftKey)return!1;const r=Fe(o.hasAttribute)?o.hasAttribute("contenteditable"):!1,i=Fe(o.closest)?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||r||!!i}const Ht=(e,t)=>{const n=en();let o=ne(N(e)===!0);return ve(o,()=>{t&&typeof t=="function"&&t(o.value)}),Ho(()=>{const r=N(e);if(ts(r)){o.value=r;return}r&&(Nr(r,i=>{So(i)||(i.preventDefault(),o.value=!0)},{eventName:"keydown"}),Nr(r,i=>{So(i)||(i.preventDefault(),o.value=!1)},{eventName:"keyup"}))}),typeof n.addEventListener<"u"&&Wo(n,"blur",()=>{o.value=!1}),o},Ma="vue-flow__node-desc",Ca="vue-flow__edge-desc",Lc="vue-flow__aria-live",za=["Enter"," ","Escape"],xt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Rc=["tabIndex","role","aria-describedby","aria-label","data-id"],Yc={name:"Node",inheritAttrs:!1},Xc=de({...Yc,props:{id:null,draggable:{type:Boolean},selectable:{type:Boolean},connectable:null,focusable:{type:Boolean},type:{type:[null,Function,Object,Boolean]},name:null,node:null,resizeObserver:null},setup(e){const t=Xi(e,["id","type","name","draggable","selectable","connectable"]);ft(Go,e.id);const n=se(),o=z(n,"id"),r=z(n,"edges"),i=z(n,"noPanClassName"),a=z(n,"selectNodesOnDrag"),l=z(n,"nodesSelectionActive"),s=z(n,"multiSelectionActive"),u=z(n,"emits"),c=z(n,"getNode"),h=z(n,"removeSelectedElements"),d=z(n,"addSelectedNodes"),p=z(n,"updateNodeDimensions"),b=z(n,"onUpdateNodeInternals"),m=z(n,"getIntersectingNodes"),k=z(n,"getNodeTypes"),g=z(n,"nodeExtent"),B=z(n,"elevateNodesOnSelect"),C=z(n,"disableKeyboardA11y"),_=z(n,"ariaLiveMessage"),I=ha(),w=Xt(t,"node"),T=Z(()=>w.value.parentNode?c.value(w.value.parentNode):void 0),V=Z(()=>Xe([w.value],r.value)),A=ne();ft(ca,A);const{emit:L,on:F}=Zs(w.value,u.value),W=Sa({id:e.id,el:A,disabled:Z(()=>!e.draggable),onStart(P,U,y){L.dragStart({event:P,node:U,nodes:y,intersections:m.value(U)})},onDrag(P,U,y){L.drag({event:P,node:U,nodes:y,intersections:m.value(U)})},onStop(P,U,y){L.dragStop({event:P,node:U,nodes:y,intersections:m.value(U)})}}),ee=Z(()=>w.value.class instanceof Function?w.value.class(w.value):w.value.class),f=Z(()=>{const P=(w.value.style instanceof Function?w.value.style(w.value):w.value.style)||{},U=w.value.width instanceof Function?w.value.width(w.value):w.value.width,y=w.value.height instanceof Function?w.value.height(w.value):w.value.height;return U&&(P.width=typeof U=="string"?U:`${U}px`),y&&(P.height=typeof y=="string"?y:`${y}px`),P});b.value(P=>{P.includes(e.id)&&v()}),Be(()=>{t.resizeObserver.observe(A.value)}),Fo(()=>{t.resizeObserver.unobserve(A.value)}),ve([()=>w.value.type,()=>w.value.sourcePosition,()=>w.value.targetPosition],()=>{p.value([{id:e.id,nodeElement:A.value,forceUpdate:!0}])},{flush:"pre"}),ve([()=>w.value.position.x,()=>w.value.position.y,()=>{var P;return(P=T.value)==null?void 0:P.computedPosition.x},()=>{var P;return(P=T.value)==null?void 0:P.computedPosition.y},()=>{var P;return(P=T.value)==null?void 0:P.computedPosition.z},()=>w.value.selected,()=>w.value.dimensions,()=>{var P;return(P=T.value)==null?void 0:P.dimensions}],([P,U,y,O,R])=>{const Y={x:P,y:U,z:(it(f.value.zIndex)?f.value.zIndex:0)+(B.value&&w.value.selected?1e3:0)};S(Y,y&&O?{x:y,y:O,z:R||0}:void 0)},{flush:"pre",immediate:!0});function S(P,U){let y=P;U&&(y=Bs({x:U.x,y:U.y,z:U.z},P)),w.value.computedPosition=y}pt(()=>w.value.initialized).toBe(!0).then(()=>{const{position:P}=On(w.value,w.value.computedPosition,g.value,T.value);w.value.computedPosition={...w.value.computedPosition,...P}});function v(){A.value&&p.value([{id:e.id,nodeElement:A.value,forceUpdate:!0}]);const{position:P}=On(w.value,w.value.position,g.value,T.value);w.value.position=P}function $(P){W!=null&&W.value||L.mouseEnter({event:P,node:w.value,connectedEdges:V.value})}function M(P){W!=null&&W.value||L.mouseMove({event:P,node:w.value,connectedEdges:V.value})}function x(P){W!=null&&W.value||L.mouseLeave({event:P,node:w.value,connectedEdges:V.value})}function E(P){return L.contextMenu({event:P,node:w.value,connectedEdges:V.value})}function D(P){return L.doubleClick({event:P,node:w.value,connectedEdges:V.value})}function X(P){e.selectable&&(!a.value||!e.draggable)&&ko(w.value,s.value,d.value,h.value,l),L.click({event:P,node:w.value,connectedEdges:V.value})}const te=P=>{var U;if(!So(P))if(P.preventDefault(),za.includes(P.key)&&e.selectable){const y=P.key==="Escape";y&&((U=A.value)==null||U.blur()),ko(w.value,s.value,d.value,h.value,l,y)}else!C.value&&e.draggable&&w.value.selected&&xt[P.key]&&(_.value=`Moved selected node ${P.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~w.value.position.x}, y: ${~~w.value.position.y}`,I({x:xt[P.key].x,y:xt[P.key].y},P.shiftKey))};return(P,U)=>{var y;return H(),K("div",{ref_key:"nodeElement",ref:A,class:Me(["vue-flow__node",[`vue-flow__node-${e.type===!1?"default":e.name}`,i.value,{dragging:N(W),selected:w.value.selected,selectable:e.selectable},N(ee)]]),style:be({zIndex:(y=w.value.computedPosition.z)!=null?y:0,transform:`translate(${w.value.computedPosition.x}px,${w.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",...N(f)}),tabIndex:e.focusable?0:void 0,role:e.focusable?"button":void 0,"aria-describedby":C.value?void 0:`${N(Ma)}-${o.value}`,"aria-label":w.value.ariaLabel,"data-id":w.value.id,onMouseenter:$,onMousemove:M,onMouseleave:x,onContextmenu:E,onClick:X,onDblclick:D,onKeydown:te},[(H(),ue(Ke(e.type===!1?k.value.default:e.type),{id:w.value.id,type:w.value.type,data:w.value.data,events:{...w.value.events,...N(F)},selected:!!w.value.selected,resizing:!!w.value.resizing,dragging:N(W),connectable:e.connectable,position:w.value.position,dimensions:w.value.dimensions,"is-valid-target-pos":w.value.isValidTargetPos,"is-valid-source-pos":w.value.isValidSourcePos,"parent-node":w.value.parentNode,"z-index":w.value.computedPosition.z,"target-position":w.value.targetPosition,"source-position":w.value.sourcePosition,label:w.value.label,"drag-handle":w.value.dragHandle,onUpdateNodeInternals:v},null,40,["id","type","data","events","selected","resizing","dragging","connectable","position","dimensions","is-valid-target-pos","is-valid-source-pos","parent-node","z-index","target-position","source-position","label","drag-handle"]))],46,Rc)}}}),Hc=["transform"],jc=["width","height","x","y","rx","ry"],Fc=["y"],Uc={name:"EdgeText"},Wc=de({...Uc,props:{x:null,y:null,label:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){let t=ne({x:0,y:0,width:0,height:0});const n=ne(null),o=()=>{if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)};Be(o),ve([()=>e.x,()=>e.y,n,()=>e.label],o);const r=Z(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);return(i,a)=>(H(),K("g",{transform:N(r),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(H(),K("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:be(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,jc)):fe("",!0),ce("text",jo(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:e.labelStyle}),[le(i.$slots,"default",{},()=>[N(Je)(e.label)?(H(),K(ye,{key:1},[nt(Et(e.label),1)],64)):(H(),ue(Ke(e.label),{key:0}))])],16,Fc)],8,Hc))}}),nr=function({path:e,label:t,labelX:n,labelY:o,labelBgBorderRadius:r,labelBgPadding:i,labelBgStyle:a,labelShowBg:l=!0,labelStyle:s,markerStart:u,markerEnd:c,interactionWidth:h=20},{attrs:d}){return[pe("path",{style:d.style,class:["vue-flow__edge-path",d.class].join(" "),d:e,"marker-end":c,"marker-start":u}),h?pe("path",{d:e,fill:"none","stroke-opacity":0,"stroke-width":h}):null,t&&it(n)&&it(o)?pe(Wc,{x:n,y:o,label:t,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:i,labelBgBorderRadius:r}):null]};nr.props=["path","labelX","labelY","label","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelShowBg","labelStyle","markerStart","markerEnd","interactionWidth"];nr.inheritAttrs=!1;const on=nr;function Aa({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,a=Math.abs(o-t)/2,l=o<t?o+a:o-a;return[i,l,r,a]}function Pa({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:a,targetControlY:l}){const s=e*.125+r*.375+a*.375+n*.125,u=t*.125+i*.375+l*.375+o*.125,c=Math.abs(s-e),h=Math.abs(u-t);return[s,u,c,h]}function cn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Yr({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let a,l;switch(e){case G.Left:a=t-cn(t-o,i),l=n;break;case G.Right:a=t+cn(o-t,i),l=n;break;case G.Top:a=t,l=n-cn(n-r,i);break;case G.Bottom:a=t,l=n+cn(r-n,i);break}return[a,l]}function or({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:o,targetY:r,targetPosition:i=G.Top,curvature:a=.25}){const[l,s]=Yr({pos:n,x1:e,y1:t,x2:o,y2:r,c:a}),[u,c]=Yr({pos:i,x1:o,y1:r,x2:e,y2:t,c:a}),[h,d,p,b]=Pa({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${s} ${u},${c} ${o},${r}`,h,d,p,b]}const rr=function({sourcePosition:e=G.Bottom,targetPosition:t=G.Top,...n},{attrs:o}){const[r,i,a]=or({sourcePosition:e,targetPosition:t,...n});return pe(on,{path:r,labelX:i,labelY:a,...n,...o})};rr.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"];rr.inheritAttrs=!1;const qc=rr;function Xr({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,a;switch(e){case G.Left:case G.Right:i=.5*(t+o),a=n;break;case G.Top:case G.Bottom:i=t,a=.5*(n+r);break}return[i,a]}function Oa({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:o,targetY:r,targetPosition:i=G.Top}){const[a,l]=Xr({pos:n,x1:e,y1:t,x2:o,y2:r}),[s,u]=Xr({pos:i,x1:o,y1:r,x2:e,y2:t}),[c,h,d,p]=Pa({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:l,targetControlX:s,targetControlY:u});return[`M${e},${t} C${a},${l} ${s},${u} ${o},${r}`,c,h,d,p]}const ir=function({sourcePosition:e=G.Bottom,targetPosition:t=G.Top,...n},{attrs:o}){const[r,i,a]=Oa({sourcePosition:e,targetPosition:t,...n});return pe(on,{path:r,labelX:i,labelY:a,...n,...o})};ir.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"];ir.inheritAttrs=!1;const Zc=ir,Hr={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},Gc=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},jr=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2);function Kc({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:o=G.Top,center:r,offset:i}){const a=Hr[t],l=Hr[o],s={x:e.x+a.x*i,y:e.y+a.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=Gc({source:s,sourcePosition:t,target:u}),h=c.x!==0?"x":"y",d=c[h];let p=[],b,m;const[k,g,B,C]=Aa({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){b=r.x||k,m=r.y||g;const _=[{x:b,y:s.y},{x:b,y:u.y}],I=[{x:s.x,y:m},{x:u.x,y:m}];a[h]===d?p=h==="x"?_:I:p=h==="x"?I:_}else{const _=[{x:s.x,y:u.y}],I=[{x:u.x,y:s.y}];if(h==="x"?p=a.x===d?I:_:p=a.y===d?_:I,t!==o){const w=h==="x"?"y":"x",T=a[h]===l[w],V=s[w]>u[w],A=s[w]<u[w];(a[h]===1&&(!T&&V||T&&A)||a[h]!==1&&(!T&&A||T&&V))&&(p=h==="x"?_:I)}b=p[0].x,m=p[0].y}return[[e,s,...p,u,n],b,m,B,C]}function Qc(e,t,n,o){const r=Math.min(jr(e,t)/2,jr(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+r*u},${a}Q ${i},${a} ${i},${a+r*c}`}const l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return`L ${i},${a+r*s}Q ${i},${a} ${i+r*l},${a}`}function Mo({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:o,targetY:r,targetPosition:i=G.Top,borderRadius:a=5,centerX:l,centerY:s,offset:u=20}){const[c,h,d,p,b]=Kc({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:i,center:{x:l,y:s},offset:u});return[c.reduce((m,k,g)=>{let B="";return g>0&&g<c.length-1?B=Qc(c[g-1],k,c[g+1],a):B=`${g===0?"M":"L"}${k.x} ${k.y}`,m+=B,m},""),h,d,p,b]}const ar=function({sourcePosition:e=G.Bottom,targetPosition:t=G.Top,...n},{attrs:o}){const[r,i,a]=Mo({sourcePosition:e,targetPosition:t,...n});return pe(on,{path:r,labelX:i,labelY:a,...n,...o})};ar.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"];ar.inheritAttrs=!1;const Ia=ar,lr=function(e,{attrs:t}){return pe(Ia,{...e,...t,borderRadius:0})};lr.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"];lr.inheritAttrs=!1;const Jc=lr;function ed({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[r,i,a,l]=Aa({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,i,a,l]}const sr=function(e,{attrs:t}){const[n,o,r]=ed(e);return pe(on,{path:n,labelX:o,labelY:r,...e,...t})};sr.props=["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"];sr.inheritAttrs=!1;const td=sr,nd=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,od=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,Ba=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=G.Top}){const r=()=>{const a=nd(t,e,o);return isNaN(a)?0:a},i=()=>{const a=od(n,e,o);return isNaN(a)?0:a};return pe("circle",{class:"vue-flow__edgeupdater",cx:r(),cy:i(),r:e,stroke:"transparent",fill:"transparent"})};Ba.props=["radius","centerX","centerY","position"];const Fr=Ba,rd=()=>({doubleClick:q(),click:q(),mouseEnter:q(),mouseMove:q(),mouseLeave:q(),contextMenu:q(),updateStart:q(),update:q(),updateEnd:q()});function id(e,t){const n=rd();return n.doubleClick.on(o=>{var r,i;t.edgeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.edgeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.edgeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.edgeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.edgeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.edgeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.updateStart.on(o=>{var r,i;t.edgeUpdateStart(o),(i=(r=e.events)==null?void 0:r.updateStart)==null||i.call(r,o)}),n.update.on(o=>{var r,i;t.edgeUpdate(o),(i=(r=e.events)==null?void 0:r.update)==null||i.call(r,o)}),n.updateEnd.on(o=>{var r,i;t.edgeUpdateEnd(o),(i=(r=e.events)==null?void 0:r.updateEnd)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}const Ur=(e,t,n)=>{var o,r,i,a;const l=((o=n==null?void 0:n.x)!=null?o:0)+t.x,s=((r=n==null?void 0:n.y)!=null?r:0)+t.y,u=(i=n==null?void 0:n.width)!=null?i:t.width,c=(a=n==null?void 0:n.height)!=null?a:t.height;switch(e){case G.Top:return{x:l+u/2,y:s};case G.Right:return{x:l+u,y:s+c/2};case G.Bottom:return{x:l+u/2,y:s+c};case G.Left:return{x:l,y:s+c/2}}},Wr=(e=[],t)=>{if(!e.length)return;let n;return!t&&e.length===1?n=e[0]:t&&(n=e.find(o=>o.id===t)),n||e[0]},ad=(e,t,n,o,r,i)=>{const a=Ur(n,{...e.dimensions,...e.computedPosition},t),l=Ur(i,{...o.dimensions,...o.computedPosition},r);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function ld({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:a,height:l,viewport:s}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=An({x:(0-s.x)/s.zoom,y:(0-s.y)/s.zoom,width:a/s.zoom,height:l/s.zoom}),h=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(h*d)>0}const sd=(e,t)=>{let n=-1;const o=e.reduce((r,i)=>{const a=t(i.source),l=t(i.target);if(!a||!l)return r;const s=i.z?i.z:Math.max(a.computedPosition.z||0,l.computedPosition.z||0);return r[s]?r[s].push(i):r[s]=[i],n=s>n?s:n,r},{});return Object.entries(Object.keys(o).length?o:{0:[]}).map(([r,i])=>{const a=+r;return{edges:i,level:a,isMaxLevel:a===n}})},ud=de({props:["name","type","id","updatable","selectable","focusable","edge","sourceNode","targetNode"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:i,nodesSelectionActive:a,getEdges:l,getEdgeTypes:s,removeSelectedEdges:u,findEdge:c}=se(),h=id(e.edge,i),d=Xt(e,"edge");let p=ne(!1),b=ne(!1);const m=ne(""),k=ne(null),g=ne("source"),B=ne("source"),C=ne(),_=ne();ft(Ds,e.id),ft(Ls,_);const I=()=>p.value=!0,w=()=>p.value=!1,T=E=>{oa(E,l.value)||h.emit.update({edge:d.value,connection:E})},V=()=>{!C.value||(h.emit.updateEnd({event:C.value,edge:d.value}),b.value=!1)},{onMouseDown:A}=da({nodeId:m,handleId:k,type:g,isValidConnection:void 0,elementEdgeUpdaterType:B,onEdgeUpdate:T,onEdgeUpdateEnd:V}),L=(E,D)=>{var X;m.value=D?d.value.target:d.value.source,k.value=(X=D?d.value.targetHandle:d.value.sourceHandle)!=null?X:"",g.value=D?"target":"source",B.value=g.value,C.value=E,h.emit.updateStart({event:E,edge:d.value}),A(E)},F=E=>{const D={event:E,edge:d.value};e.selectable&&(a.value=!1,n([d.value])),h.emit.click(D)},W=E=>h.emit.contextMenu({event:E,edge:d.value}),ee=E=>h.emit.doubleClick({event:E,edge:d.value}),f=E=>h.emit.mouseEnter({event:E,edge:d.value}),S=E=>h.emit.mouseMove({event:E,edge:d.value}),v=E=>h.emit.mouseLeave({event:E,edge:d.value}),$=E=>{b.value=!0,L(E,!0)},M=E=>{b.value=!0,L(E,!1)},x=E=>{var D;za.includes(E.key)&&e.selectable&&(E.key==="Escape"?((D=_.value)==null||D.blur(),u([c(e.id)])):n([c(e.id)]))};return()=>{if(!e.sourceNode||!e.targetNode)return null;let E;o.value===Nt.Strict?E=e.sourceNode.handleBounds.source:E=[...e.sourceNode.handleBounds.source||[],...e.sourceNode.handleBounds.target||[]];const D=Wr(E,d.value.sourceHandle);let X;o.value===Nt.Strict?X=e.targetNode.handleBounds.target:X=[...e.targetNode.handleBounds.target||[],...e.targetNode.handleBounds.source||[]];const te=Wr(X,d.value.targetHandle),P=D?D.position:G.Bottom,U=te?te.position:G.Top,{sourceX:y,sourceY:O,targetY:R,targetX:Y}=ad(e.sourceNode,D,P,e.targetNode,te,U),J=d.value.class instanceof Function?d.value.class(d.value):d.value.class,Q=d.value.style instanceof Function?d.value.style(d.value):d.value.style;return pe("g",{ref:_,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.type===!1?"default":e.name}`,J,{updating:p.value,selected:d.value.selected,animated:d.value.animated,inactive:!e.selectable}],onClick:F,onContextmenu:W,onDblclick:ee,onMouseenter:f,onMousemove:S,onMouseleave:v,onKeyDown:e.focusable?x:void 0,tabIndex:e.focusable?0:void 0,"aria-label":d.value.ariaLabel===null?void 0:d.value.ariaLabel||`Edge from ${d.value.source} to ${d.value.target}`,"aria-describedby":e.focusable?`${Ca}-${t}`:void 0,role:e.focusable?"button":void 0},[b.value?null:pe(e.type===!1?s.value.default:e.type,{id:e.id,sourceNode:e.sourceNode,targetNode:e.targetNode,source:d.value.source,target:d.value.target,type:d.value.type,updatable:e.updatable,selected:d.value.selected,animated:d.value.animated,label:d.value.label,labelStyle:d.value.labelStyle,labelShowBg:d.value.labelShowBg,labelBgStyle:d.value.labelBgStyle,labelBgPadding:d.value.labelBgPadding,labelBgBorderRadius:d.value.labelBgBorderRadius,data:d.value.data,events:{...d.value.events,...h.on},style:Q,markerStart:`url(#${at(d.value.markerStart,t)})`,markerEnd:`url(#${at(d.value.markerEnd,t)})`,sourcePosition:P,targetPosition:U,sourceX:y,sourceY:O,targetX:Y,targetY:R,sourceHandleId:d.value.sourceHandle,targetHandleId:d.value.targetHandle,interactionWidth:d.value.interactionWidth}),[e.updatable==="source"||e.updatable===!0?[pe("g",{onMousedown:$,onMouseenter:I,onMouseout:w},pe(Fr,{position:P,centerX:y,centerY:O,radius:r.value,"data-type":"source"}))]:null,e.updatable==="target"||e.updatable===!0?[pe("g",{onMousedown:M,onMouseenter:I,onMouseout:w},pe(Fr,{position:U,centerX:Y,centerY:R,radius:r.value,"data-type":"target"}))]:null]])}}}),cd=ud,dd={height:"0",width:"0"},hd={name:"EdgeLabelRenderer"},fd=de({...hd,setup(e){const{viewportRef:t}=se(),n=Z(()=>{var o;return(o=t.value)==null?void 0:o.getElementsByClassName("vue-flow__edge-labels")[0]});return(o,r)=>(H(),K("svg",null,[(H(),K("foreignObject",dd,[(H(),ue(Hi,{to:N(n),disabled:!N(n)},[le(o.$slots,"default")],8,["to","disabled"]))]))]))}}),pd={class:"vue-flow__connection"},vd=["d","marker-end","marker-start"],gd={name:"ConnectionLine"},md=de({...gd,props:{sourceNode:null},setup(e){var t,n,o;const r=se(),i=z(r,"connectionMode"),a=z(r,"connectionStartHandle"),l=z(r,"connectionPosition"),s=z(r,"connectionLineType"),u=z(r,"connectionLineStyle"),c=z(r,"connectionLineOptions"),h=z(r,"viewport"),d=(t=ot(Gn))==null?void 0:t["connection-line"],p=d==null?void 0:d({}),b=a.value.handleId,m=a.value.type,k=(i.value===Nt.Strict?(n=e.sourceNode.handleBounds[m])==null?void 0:n.find(A=>A.id===b):[...e.sourceNode.handleBounds.source||[],...e.sourceNode.handleBounds.target||[]].find(A=>A.id===b))||((o=e.sourceNode.handleBounds[m??"source"])==null?void 0:o[0]),g=k?k.x+k.width/2:e.sourceNode.dimensions.width/2,B=k?k.y+k.height/2:e.sourceNode.dimensions.height,C=e.sourceNode.computedPosition.x+g,_=e.sourceNode.computedPosition.y+B,I=(k==null?void 0:k.position)===G.Left||(k==null?void 0:k.position)===G.Right?G.Left:G.Top,w=Z(()=>(l.value.x-h.value.x)/h.value.zoom),T=Z(()=>(l.value.y-h.value.y)/h.value.zoom),V=Z(()=>{let A=`M${C},${_} ${w.value},${T.value}`;const L={sourceX:C,sourceY:_,sourcePosition:k==null?void 0:k.position,targetX:w.value,targetY:T.value,targetPosition:I};switch(s.value||c.value.type){case lt.Bezier:[A]=or(L);break;case lt.Step:[A]=Mo({...L,borderRadius:0});break;case lt.SmoothStep:[A]=Mo(L);break;case lt.SimpleBezier:[A]=Oa(L);break}return A});return(A,L)=>{var F;return H(),K("g",pd,[N(p)?(H(),ue(Ke(N(d)),Ui(jo({key:0},{sourceX:C,sourceY:_,sourcePosition:(F=N(k))==null?void 0:F.position,targetX:w.value,targetY:T.value,targetPosition:N(I),sourceNode:e.sourceNode,sourceHandle:N(k),markerEnd:`url(#${N(at)(c.value.markerEnd)})`,markerStart:`url(#${N(at)(c.value.markerStart)})`})),null,16)):(H(),K("path",{key:1,d:N(V),class:Me(["vue-flow__connection-path",c.value.class]),style:be(u.value||c.value.style||{}),"marker-end":`url(#${N(at)(c.value.markerEnd)})`,"marker-start":`url(#${N(at)(c.value.markerStart)})`},null,14,vd))])}}}),yd=["tabIndex"],wd={name:"NodesSelection"},_d=de({...wd,setup(e){const t=se(),n=z(t,"emits"),o=z(t,"viewport"),r=z(t,"getSelectedNodes"),i=z(t,"noPanClassName"),a=z(t,"disableKeyboardA11y"),l=z(t,"userSelectionActive"),s=ha(),u=ne(),c=Sa({el:u,onStart(m,k,g){n.value.selectionDragStart({event:m,node:k,nodes:g})},onDrag(m,k,g){n.value.selectionDrag({event:m,node:k,nodes:g})},onStop(m,k,g){n.value.selectionDragStop({event:m,node:k,nodes:g})}});Be(()=>{var m;a.value||(m=u.value)==null||m.focus({preventScroll:!0})});const h=Z(()=>Zn(r.value)),d=Z(()=>({width:`${h.value.width}px`,height:`${h.value.height}px`,top:`${h.value.y}px`,left:`${h.value.x}px`}));function p(m){n.value.selectionContextMenu({event:m,nodes:r.value})}function b(m){a.value||xt[m.key]&&s({x:xt[m.key].x,y:xt[m.key].y},m.shiftKey)}return(m,k)=>!l.value&&h.value.width&&h.value.height?(H(),K("div",{key:0,class:Me(["vue-flow__nodesselection vue-flow__container",i.value]),style:be({transform:`translate(${o.value.x}px,${o.value.y}px) scale(${o.value.zoom})`})},[ce("div",{ref_key:"el",ref:u,class:Me([{dragging:N(c)},"vue-flow__nodesselection-rect"]),style:be(N(d)),tabIndex:a.value?void 0:-1,onContextmenu:p,onKeydown:b},null,46,yd)],6)):fe("",!0)}}),bd=de({__name:"UserSelection",setup(e){const{userSelectionRect:t}=se();return(n,o)=>{var r,i,a,l;return H(),K("div",{class:"vue-flow__selection vue-flow__container",style:be({width:`${(r=N(t))==null?void 0:r.width}px`,height:`${(i=N(t))==null?void 0:i.height}px`,transform:`translate(${(a=N(t))==null?void 0:a.x}px, ${(l=N(t))==null?void 0:l.y}px)`})},null,4)}}}),xd={input:js,default:Hs,output:Fs},$d={default:qc,straight:td,step:Jc,smoothstep:Ia,simplebezier:Zc},kd=()=>({vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Zo.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Pn.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:lt.Bezier,connectionLineOptions:{type:lt.Bezier,style:{}},connectionMode:Nt.Loose,connectionStartHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectOnClick:!0,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Cs(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,disableKeyboardA11y:!1,ariaLiveMessage:"",__experimentalFeatures:{nestedFlow:!1},vueFlowVersion:"1.9.4"});function Ta(e){const t=kd();return e&&Object.keys(e).forEach(n=>{const o=e[n];me(o)&&(t[n]=o)}),t}function Ed(e){const t=Z(()=>e.nodes.map(m=>m.id)),n=Z(()=>e.edges.map(m=>m.id)),o=Z(()=>m=>e.nodes&&!t.value.length?e.nodes.find(k=>k.id===m):e.nodes[t.value.indexOf(m)]),r=Z(()=>m=>e.edges&&!n.value.length?e.edges.find(k=>k.id===m):e.edges[n.value.indexOf(m)]),i=Z(()=>{var m;const k={...$d,...e.edgeTypes},g=Object.keys(k);return(m=e.edges)==null||m.forEach(B=>B.type&&!g.includes(B.type)&&(k[B.type]=B.type)),k}),a=Z(()=>{var m;const k={...xd,...e.nodeTypes},g=Object.keys(k);return(m=e.nodes)==null||m.forEach(B=>B.type&&!g.includes(B.type)&&(k[B.type]=B.type)),k}),l=Z(()=>{const m=e.nodes.filter(k=>!k.hidden);return e.onlyRenderVisibleElements?m&&la(m,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):m??[]}),s=(m,k,g)=>{if(k=k??o.value(m.source),g=g??o.value(m.target),!k||!g){e.edges=e.edges.filter(B=>B.id!==m.id),ke(`Orphaned edge ${m.id} removed.`);return}return!m.hidden&&!g.hidden&&!k.hidden},u=Z(()=>e.onlyRenderVisibleElements?e.edges.filter(m=>{const k=o.value(m.source),g=o.value(m.target);return s(m,k,g)&&ld({sourcePos:k.computedPosition||{x:0,y:0},targetPos:g.computedPosition||{x:0,y:0},sourceWidth:k.dimensions.width,sourceHeight:k.dimensions.height,targetWidth:g.dimensions.width,targetHeight:g.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(m=>s(m))),c=Z(()=>[...l.value,...u.value]),h=Z(()=>e.nodes.filter(m=>m.selected)),d=Z(()=>e.edges.filter(m=>m.selected)),p=Z(()=>{var m,k;return[...(m=h.value)!=null?m:[],...(k=d.value)!=null?k:[]]}),b=Z(()=>l.value.filter(m=>m.initialized));return{getNode:o,getEdge:r,getElements:c,getEdgeTypes:i,getNodeTypes:a,getEdges:u,getNodes:l,getSelectedElements:p,getSelectedNodes:h,getSelectedEdges:d,getNodesInitialized:b}}function ur(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Va(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function rn(){}var Ft=.7,Bn=1/Ft,$t="\\s*([+-]?\\d+)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nd=/^#([0-9a-f]{3,8})$/,Sd=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),Md=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),Cd=new RegExp(`^rgba\\(${$t},${$t},${$t},${Ut}\\)$`),zd=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ut}\\)$`),Ad=new RegExp(`^hsl\\(${Ut},${Pe},${Pe}\\)$`),Pd=new RegExp(`^hsla\\(${Ut},${Pe},${Pe},${Ut}\\)$`),qr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ur(rn,Wt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zr,formatHex:Zr,formatHex8:Od,formatHsl:Id,formatRgb:Gr,toString:Gr});function Zr(){return this.rgb().formatHex()}function Od(){return this.rgb().formatHex8()}function Id(){return Da(this).formatHsl()}function Gr(){return this.rgb().formatRgb()}function Wt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Nd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Kr(t):n===3?new we(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sd.exec(e))?new we(t[1],t[2],t[3],1):(t=Md.exec(e))?new we(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cd.exec(e))?dn(t[1],t[2],t[3],t[4]):(t=zd.exec(e))?dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ad.exec(e))?ei(t[1],t[2]/100,t[3]/100,1):(t=Pd.exec(e))?ei(t[1],t[2]/100,t[3]/100,t[4]):qr.hasOwnProperty(e)?Kr(qr[e]):e==="transparent"?new we(NaN,NaN,NaN,0):null}function Kr(e){return new we(e>>16&255,e>>8&255,e&255,1)}function dn(e,t,n,o){return o<=0&&(e=t=n=NaN),new we(e,t,n,o)}function Bd(e){return e instanceof rn||(e=Wt(e)),e?(e=e.rgb(),new we(e.r,e.g,e.b,e.opacity)):new we}function Co(e,t,n,o){return arguments.length===1?Bd(e):new we(e,t,n,o??1)}function we(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}ur(we,Co,Va(rn,{brighter(e){return e=e==null?Bn:Math.pow(Bn,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ft:Math.pow(Ft,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new we(dt(this.r),dt(this.g),dt(this.b),Tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatHex8:Td,formatRgb:Jr,toString:Jr}));function Qr(){return`#${st(this.r)}${st(this.g)}${st(this.b)}`}function Td(){return`#${st(this.r)}${st(this.g)}${st(this.b)}${st((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jr(){const e=Tn(this.opacity);return`${e===1?"rgb(":"rgba("}${dt(this.r)}, ${dt(this.g)}, ${dt(this.b)}${e===1?")":`, ${e})`}`}function Tn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function st(e){return e=dt(e),(e<16?"0":"")+e.toString(16)}function ei(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ne(e,t,n,o)}function Da(e){if(e instanceof Ne)return new Ne(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=Wt(e)),!e)return new Ne;if(e instanceof Ne)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,s=(i+r)/2;return l?(t===i?a=(n-o)/l+(n<o)*6:n===i?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?i+r:2-i-r,a*=60):l=s>0&&s<1?0:a,new Ne(a,l,s,e.opacity)}function Vd(e,t,n,o){return arguments.length===1?Da(e):new Ne(e,t,n,o??1)}function Ne(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}ur(Ne,Vd,Va(rn,{brighter(e){return e=e==null?Bn:Math.pow(Bn,e),new Ne(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ft:Math.pow(Ft,e),new Ne(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new we(co(e>=240?e-240:e+120,r,o),co(e,r,o),co(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ne(ti(this.h),hn(this.s),hn(this.l),Tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tn(this.opacity);return`${e===1?"hsl(":"hsla("}${ti(this.h)}, ${hn(this.s)*100}%, ${hn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ti(e){return e=(e||0)%360,e<0?e+360:e}function hn(e){return Math.max(0,Math.min(1,e||0))}function co(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const La=e=>()=>e;function Dd(e,t){return function(n){return e+n*t}}function Ld(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Rd(e){return(e=+e)==1?Ra:function(t,n){return n-t?Ld(t,n,e):La(isNaN(t)?n:t)}}function Ra(e,t){var n=t-e;return n?Dd(e,n):La(isNaN(e)?t:e)}const ni=function e(t){var n=Rd(t);function o(r,i){var a=n((r=Co(r)).r,(i=Co(i)).r),l=n(r.g,i.g),s=n(r.b,i.b),u=Ra(r.opacity,i.opacity);return function(c){return r.r=a(c),r.g=l(c),r.b=s(c),r.opacity=u(c),r+""}}return o.gamma=e,o}(1);function Ze(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ho=new RegExp(zo.source,"g");function Yd(e){return function(){return e}}function Xd(e){return function(t){return e(t)+""}}function Hd(e,t){var n=zo.lastIndex=ho.lastIndex=0,o,r,i,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=zo.exec(e))&&(r=ho.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(o=o[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Ze(o,r)})),n=ho.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?Xd(s[0].x):Yd(t):(t=s.length,function(u){for(var c=0,h;c<t;++c)l[(h=s[c]).i]=h.x(u);return l.join("")})}var oi=180/Math.PI,Ya={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xa(e,t,n,o,r,i){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*oi,skewX:Math.atan(s)*oi,scaleX:a,scaleY:l}}var fn;function jd(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ya:Xa(t.a,t.b,t.c,t.d,t.e,t.f)}function Fd(e){return e==null||(fn||(fn=document.createElementNS("http://www.w3.org/2000/svg","g")),fn.setAttribute("transform",e),!(e=fn.transform.baseVal.consolidate()))?Ya:(e=e.matrix,Xa(e.a,e.b,e.c,e.d,e.e,e.f))}function Ha(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function i(u,c,h,d,p,b){if(u!==h||c!==d){var m=p.push("translate(",null,t,null,n);b.push({i:m-4,x:Ze(u,h)},{i:m-2,x:Ze(c,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function a(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(r(h)+"rotate(",null,o)-2,x:Ze(u,c)})):c&&h.push(r(h)+"rotate("+c+o)}function l(u,c,h,d){u!==c?d.push({i:h.push(r(h)+"skewX(",null,o)-2,x:Ze(u,c)}):c&&h.push(r(h)+"skewX("+c+o)}function s(u,c,h,d,p,b){if(u!==h||c!==d){var m=p.push(r(p)+"scale(",null,",",null,")");b.push({i:m-4,x:Ze(u,h)},{i:m-2,x:Ze(c,d)})}else(h!==1||d!==1)&&p.push(r(p)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,h,d),a(u.rotate,c.rotate,h,d),l(u.skewX,c.skewX,h,d),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(p){for(var b=-1,m=d.length,k;++b<m;)h[(k=d[b]).i]=k.x(p);return h.join("")}}}var Ud=Ha(jd,"px, ","px)","deg)"),Wd=Ha(Fd,", ",")",")"),qd=1e-12;function ri(e){return((e=Math.exp(e))+1/e)/2}function Zd(e){return((e=Math.exp(e))-1/e)/2}function Gd(e){return((e=Math.exp(2*e))-1)/(e+1)}const Kd=function e(t,n,o){function r(i,a){var l=i[0],s=i[1],u=i[2],c=a[0],h=a[1],d=a[2],p=c-l,b=h-s,m=p*p+b*b,k,g;if(m<qd)g=Math.log(d/u)/t,k=function(T){return[l+T*p,s+T*b,u*Math.exp(t*T*g)]};else{var B=Math.sqrt(m),C=(d*d-u*u+o*m)/(2*u*n*B),_=(d*d-u*u-o*m)/(2*d*n*B),I=Math.log(Math.sqrt(C*C+1)-C),w=Math.log(Math.sqrt(_*_+1)-_);g=(w-I)/t,k=function(T){var V=T*g,A=ri(I),L=u/(n*B)*(A*Gd(t*V+I)-Zd(I));return[l+L*p,s+L*b,u*A/ri(t*V+I)]}}return k.duration=g*1e3*t/Math.SQRT2,k}return r.rho=function(i){var a=Math.max(.001,+i),l=a*a,s=l*l;return e(a,l,s)},r}(Math.SQRT2,2,4);var Mt=0,Tt=0,Pt=0,ja=1e3,Vn,Vt,Dn=0,vt=0,Jn=0,qt=typeof performance=="object"&&performance.now?performance:Date,Fa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cr(){return vt||(Fa(Qd),vt=qt.now()+Jn)}function Qd(){vt=0}function Ln(){this._call=this._time=this._next=null}Ln.prototype=Ua.prototype={constructor:Ln,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cr():+n)+(t==null?0:+t),!this._next&&Vt!==this&&(Vt?Vt._next=this:Vn=this,Vt=this),this._call=e,this._time=n,Ao()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ao())}};function Ua(e,t,n){var o=new Ln;return o.restart(e,t,n),o}function Jd(){cr(),++Mt;for(var e=Vn,t;e;)(t=vt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Mt}function ii(){vt=(Dn=qt.now())+Jn,Mt=Tt=0;try{Jd()}finally{Mt=0,th(),vt=0}}function eh(){var e=qt.now(),t=e-Dn;t>ja&&(Jn-=t,Dn=e)}function th(){for(var e,t=Vn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vn=n);Vt=e,Ao(o)}function Ao(e){if(!Mt){Tt&&(Tt=clearTimeout(Tt));var t=e-vt;t>24?(e<1/0&&(Tt=setTimeout(ii,e-qt.now()-Jn)),Pt&&(Pt=clearInterval(Pt))):(Pt||(Dn=qt.now(),Pt=setInterval(eh,ja)),Mt=1,Fa(ii))}}function ai(e,t,n){var o=new Ln;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var nh=Kn("start","end","cancel","interrupt"),oh=[],Wa=0,li=1,Po=2,bn=3,si=4,Oo=5,xn=6;function eo(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;rh(e,n,{name:t,index:o,group:r,on:nh,tween:oh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Wa})}function dr(e,t){var n=Ce(e,t);if(n.state>Wa)throw new Error("too late; already scheduled");return n}function Te(e,t){var n=Ce(e,t);if(n.state>bn)throw new Error("too late; already running");return n}function Ce(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rh(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=Ua(i,0,n.time);function i(u){n.state=li,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,d,p;if(n.state!==li)return s();for(c in o)if(p=o[c],p.name===n.name){if(p.state===bn)return ai(a);p.state===si?(p.state=xn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[c]):+c<t&&(p.state=xn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[c])}if(ai(function(){n.state===bn&&(n.state=si,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Po,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Po){for(n.state=bn,r=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Oo,1),h=-1,d=r.length;++h<d;)r[h].call(e,c);n.state===Oo&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=xn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function $n(e,t){var n=e.__transition,o,r,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>Po&&o.state<Oo,o.state=xn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function ih(e){return this.each(function(){$n(this,e)})}function ah(e,t){var n,o;return function(){var r=Te(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function lh(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Te(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},s=0,u=r.length;s<u;++s)if(r[s].name===t){r[s]=l;break}s===u&&r.push(l)}i.tween=r}}function sh(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Ce(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?ah:lh)(n,e,t))}function hr(e,t,n){var o=e._id;return e.each(function(){var r=Te(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Ce(r,o).value[t]}}function qa(e,t){var n;return(typeof t=="number"?Ze:t instanceof Wt?ni:(n=Wt(t))?(t=n,ni):Hd)(e,t)}function uh(e){return function(){this.removeAttribute(e)}}function ch(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dh(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function hh(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function fh(e,t,n){var o,r,i;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===r?i:(r=s,i=t(o=a,l)))}}function ph(e,t,n){var o,r,i;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===r?i:(r=s,i=t(o=a,l)))}}function vh(e,t){var n=Qn(e),o=n==="transform"?Wd:qa;return this.attrTween(e,typeof t=="function"?(n.local?ph:fh)(n,o,hr(this,"attr."+e,t)):t==null?(n.local?ch:uh)(n):(n.local?hh:dh)(n,o,t))}function gh(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function mh(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function yh(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&mh(e,i)),n}return r._value=t,r}function wh(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&gh(e,i)),n}return r._value=t,r}function _h(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Qn(e);return this.tween(n,(o.local?yh:wh)(o,t))}function bh(e,t){return function(){dr(this,e).delay=+t.apply(this,arguments)}}function xh(e,t){return t=+t,function(){dr(this,e).delay=t}}function $h(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bh:xh)(t,e)):Ce(this.node(),t).delay}function kh(e,t){return function(){Te(this,e).duration=+t.apply(this,arguments)}}function Eh(e,t){return t=+t,function(){Te(this,e).duration=t}}function Nh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kh:Eh)(t,e)):Ce(this.node(),t).duration}function Sh(e,t){if(typeof t!="function")throw new Error;return function(){Te(this,e).ease=t}}function Mh(e){var t=this._id;return arguments.length?this.each(Sh(t,e)):Ce(this.node(),t).ease}function Ch(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Te(this,e).ease=n}}function zh(e){if(typeof e!="function")throw new Error;return this.each(Ch(this._id,e))}function Ah(e){typeof e!="function"&&(e=va(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],s,u=0;u<a;++u)(s=i[u])&&e.call(s,s.__data__,u,i)&&l.push(s);return new Ue(o,this._parents,this._name,this._id)}function Ph(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var s=t[l],u=n[l],c=s.length,h=a[l]=new Array(c),d,p=0;p<c;++p)(d=s[p]||u[p])&&(h[p]=d);for(;l<o;++l)a[l]=t[l];return new Ue(a,this._parents,this._name,this._id)}function Oh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ih(e,t,n){var o,r,i=Oh(t)?dr:Te;return function(){var a=i(this,e),l=a.on;l!==o&&(r=(o=l).copy()).on(t,n),a.on=r}}function Bh(e,t){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(e):this.each(Ih(n,e,t))}function Th(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Vh(){return this.on("end.remove",Th(this._id))}function Dh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=er(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var l=o[a],s=l.length,u=i[a]=new Array(s),c,h,d=0;d<s;++d)(c=l[d])&&(h=e.call(c,c.__data__,d,l))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,eo(u[d],t,n,d,u,Ce(c,n)));return new Ue(i,this._parents,t,n)}function Lh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pa(e));for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var s=o[l],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var d=e.call(c,c.__data__,h,s),p,b=Ce(c,n),m=0,k=d.length;m<k;++m)(p=d[m])&&eo(p,t,n,m,d,b);i.push(d),a.push(c)}return new Ue(i,a,t,n)}var Rh=nn.prototype.constructor;function Yh(){return new Rh(this._groups,this._parents)}function Xh(e,t){var n,o,r;return function(){var i=St(this,e),a=(this.style.removeProperty(e),St(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function Za(e){return function(){this.style.removeProperty(e)}}function Hh(e,t,n){var o,r=n+"",i;return function(){var a=St(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function jh(e,t,n){var o,r,i;return function(){var a=St(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),St(this,e))),a===s?null:a===o&&s===r?i:(r=s,i=t(o=a,l))}}function Fh(e,t){var n,o,r,i="style."+t,a="end."+i,l;return function(){var s=Te(this,e),u=s.on,c=s.value[i]==null?l||(l=Za(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(a,r=c),s.on=o}}function Uh(e,t,n){var o=(e+="")=="transform"?Ud:qa;return t==null?this.styleTween(e,Xh(e,o)).on("end.style."+e,Za(e)):typeof t=="function"?this.styleTween(e,jh(e,o,hr(this,"style."+e,t))).each(Fh(this._id,e)):this.styleTween(e,Hh(e,o,t),n).on("end.style."+e,null)}function Wh(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function qh(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&Wh(e,a,n)),o}return i._value=t,i}function Zh(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,qh(e,t,n??""))}function Gh(e){return function(){this.textContent=e}}function Kh(e){return function(){var t=e(this);this.textContent=t??""}}function Qh(e){return this.tween("text",typeof e=="function"?Kh(hr(this,"text",e)):Gh(e==null?"":e+""))}function Jh(e){return function(t){this.textContent=e.call(this,t)}}function ef(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Jh(r)),t}return o._value=e,o}function tf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ef(e))}function nf(){for(var e=this._name,t=this._id,n=Ga(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var c=Ce(s,t);eo(s,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ue(o,this._parents,e,n)}function of(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){--r===0&&i()}};n.each(function(){var u=Te(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),r===0&&i()})}var rf=0;function Ue(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Ga(){return++rf}var Le=nn.prototype;Ue.prototype={constructor:Ue,select:Dh,selectAll:Lh,selectChild:Le.selectChild,selectChildren:Le.selectChildren,filter:Ah,merge:Ph,selection:Yh,transition:nf,call:Le.call,nodes:Le.nodes,node:Le.node,size:Le.size,empty:Le.empty,each:Le.each,on:Bh,attr:vh,attrTween:_h,style:Uh,styleTween:Zh,text:Qh,textTween:tf,remove:Vh,tween:sh,delay:$h,duration:Nh,ease:Mh,easeVarying:zh,end:of,[Symbol.iterator]:Le[Symbol.iterator]};function af(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lf={time:null,delay:0,duration:250,ease:af};function sf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function uf(e){var t,n;e instanceof Ue?(t=e._id,e=e._name):(t=Ga(),(n=lf).time=cr(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,s,u=0;u<l;++u)(s=a[u])&&eo(s,e,t,u,a,n||sf(s,t));return new Ue(o,this._parents,e,t)}nn.prototype.interrupt=ih;nn.prototype.transition=uf;const pn=e=>()=>e;function cf(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function He(e,t,n){this.k=e,this.x=t,this.y=n}He.prototype={constructor:He,scale:function(e){return e===1?this:new He(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new He(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var to=new He(1,0,0);He.prototype;function fo(e){e.stopImmediatePropagation()}function Ot(e){e.preventDefault(),e.stopImmediatePropagation()}function df(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hf(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ui(){return this.__zoom||to}function ff(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pf(){return navigator.maxTouchPoints||"ontouchstart"in this}function vf(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function gf(){var e=df,t=hf,n=vf,o=ff,r=pf,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,s=Kd,u=Kn("start","zoom","end"),c,h,d,p=500,b=150,m=0,k=10;function g(f){f.property("__zoom",ui).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",L).filter(r).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(f,S,v,$){var M=f.selection?f.selection():f;M.property("__zoom",ui),f!==M?I(f,S,v,$):M.interrupt().each(function(){w(this,arguments).event($).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},g.scaleBy=function(f,S,v,$){g.scaleTo(f,function(){var M=this.__zoom.k,x=typeof S=="function"?S.apply(this,arguments):S;return M*x},v,$)},g.scaleTo=function(f,S,v,$){g.transform(f,function(){var M=t.apply(this,arguments),x=this.__zoom,E=v==null?_(M):typeof v=="function"?v.apply(this,arguments):v,D=x.invert(E),X=typeof S=="function"?S.apply(this,arguments):S;return n(C(B(x,X),E,D),M,a)},v,$)},g.translateBy=function(f,S,v,$){g.transform(f,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),a)},null,$)},g.translateTo=function(f,S,v,$,M){g.transform(f,function(){var x=t.apply(this,arguments),E=this.__zoom,D=$==null?_(x):typeof $=="function"?$.apply(this,arguments):$;return n(to.translate(D[0],D[1]).scale(E.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof v=="function"?-v.apply(this,arguments):-v),x,a)},$,M)};function B(f,S){return S=Math.max(i[0],Math.min(i[1],S)),S===f.k?f:new He(S,f.x,f.y)}function C(f,S,v){var $=S[0]-v[0]*f.k,M=S[1]-v[1]*f.k;return $===f.x&&M===f.y?f:new He(f.k,$,M)}function _(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function I(f,S,v,$){f.on("start.zoom",function(){w(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event($).end()}).tween("zoom",function(){var M=this,x=arguments,E=w(M,x).event($),D=t.apply(M,x),X=v==null?_(D):typeof v=="function"?v.apply(M,x):v,te=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),P=M.__zoom,U=typeof S=="function"?S.apply(M,x):S,y=s(P.invert(X).concat(te/P.k),U.invert(X).concat(te/U.k));return function(O){if(O===1)O=U;else{var R=y(O),Y=te/R[2];O=new He(Y,X[0]-R[0]*Y,X[1]-R[1]*Y)}E.zoom(null,O)}})}function w(f,S,v){return!v&&f.__zooming||new T(f,S)}function T(f,S){this.that=f,this.args=S,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,S),this.taps=0}T.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,S){return this.mouse&&f!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var S=Ee(this.that).datum();u.call(f,this.that,new cf(f,{sourceEvent:this.sourceEvent,target:g,type:f,transform:this.that.__zoom,dispatch:u}),S)}};function V(f,...S){if(!e.apply(this,arguments))return;var v=w(this,S).event(f),$=this.__zoom,M=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,o.apply(this,arguments)))),x=Ae(f);if(v.wheel)(v.mouse[0][0]!==x[0]||v.mouse[0][1]!==x[1])&&(v.mouse[1]=$.invert(v.mouse[0]=x)),clearTimeout(v.wheel);else{if($.k===M)return;v.mouse=[x,$.invert(x)],$n(this),v.start()}Ot(f),v.wheel=setTimeout(E,b),v.zoom("mouse",n(C(B($,M),v.mouse[0],v.mouse[1]),v.extent,a));function E(){v.wheel=null,v.end()}}function A(f,...S){if(d||!e.apply(this,arguments))return;var v=f.currentTarget,$=w(this,S,!0).event(f),M=Ee(f.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",te,!0),x=Ae(f,v),E=f.clientX,D=f.clientY;Ea(f.view),fo(f),$.mouse=[x,this.__zoom.invert(x)],$n(this),$.start();function X(P){if(Ot(P),!$.moved){var U=P.clientX-E,y=P.clientY-D;$.moved=U*U+y*y>m}$.event(P).zoom("mouse",n(C($.that.__zoom,$.mouse[0]=Ae(P,v),$.mouse[1]),$.extent,a))}function te(P){M.on("mousemove.zoom mouseup.zoom",null),Na(P.view,$.moved),Ot(P),$.event(P).end()}}function L(f,...S){if(e.apply(this,arguments)){var v=this.__zoom,$=Ae(f.changedTouches?f.changedTouches[0]:f,this),M=v.invert($),x=v.k*(f.shiftKey?.5:2),E=n(C(B(v,x),$,M),t.apply(this,S),a);Ot(f),l>0?Ee(this).transition().duration(l).call(I,E,$,f):Ee(this).call(g.transform,E,$,f)}}function F(f,...S){if(e.apply(this,arguments)){var v=f.touches,$=v.length,M=w(this,S,f.changedTouches.length===$).event(f),x,E,D,X;for(fo(f),E=0;E<$;++E)D=v[E],X=Ae(D,this),X=[X,this.__zoom.invert(X),D.identifier],M.touch0?!M.touch1&&M.touch0[2]!==X[2]&&(M.touch1=X,M.taps=0):(M.touch0=X,x=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),x&&(M.taps<2&&(h=X[0],c=setTimeout(function(){c=null},p)),$n(this),M.start())}}function W(f,...S){if(this.__zooming){var v=w(this,S).event(f),$=f.changedTouches,M=$.length,x,E,D,X;for(Ot(f),x=0;x<M;++x)E=$[x],D=Ae(E,this),v.touch0&&v.touch0[2]===E.identifier?v.touch0[0]=D:v.touch1&&v.touch1[2]===E.identifier&&(v.touch1[0]=D);if(E=v.that.__zoom,v.touch1){var te=v.touch0[0],P=v.touch0[1],U=v.touch1[0],y=v.touch1[1],O=(O=U[0]-te[0])*O+(O=U[1]-te[1])*O,R=(R=y[0]-P[0])*R+(R=y[1]-P[1])*R;E=B(E,Math.sqrt(O/R)),D=[(te[0]+U[0])/2,(te[1]+U[1])/2],X=[(P[0]+y[0])/2,(P[1]+y[1])/2]}else if(v.touch0)D=v.touch0[0],X=v.touch0[1];else return;v.zoom("touch",n(C(E,D,X),v.extent,a))}}function ee(f,...S){if(this.__zooming){var v=w(this,S).event(f),$=f.changedTouches,M=$.length,x,E;for(fo(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),x=0;x<M;++x)E=$[x],v.touch0&&v.touch0[2]===E.identifier?delete v.touch0:v.touch1&&v.touch1[2]===E.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(E=Ae(E,this),Math.hypot(h[0]-E[0],h[1]-E[1])<k)){var D=Ee(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return g.wheelDelta=function(f){return arguments.length?(o=typeof f=="function"?f:pn(+f),g):o},g.filter=function(f){return arguments.length?(e=typeof f=="function"?f:pn(!!f),g):e},g.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:pn(!!f),g):r},g.extent=function(f){return arguments.length?(t=typeof f=="function"?f:pn([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),g):t},g.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],g):[i[0],i[1]]},g.translateExtent=function(f){return arguments.length?(a[0][0]=+f[0][0],a[1][0]=+f[1][0],a[0][1]=+f[0][1],a[1][1]=+f[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(f){return arguments.length?(n=f,g):n},g.duration=function(f){return arguments.length?(l=+f,g):l},g.interpolate=function(f){return arguments.length?(s=f,g):s},g.on=function(){var f=u.on.apply(u,arguments);return f===u?g:f},g.clickDistance=function(f){return arguments.length?(m=(f=+f)*f,g):Math.sqrt(m)},g.tapDistance=function(f){return arguments.length?(k=+f,g):k},g}const po=.1,vo=(e,t=0)=>e.transition().duration(t),yt=async(e,t)=>("screen"in en()&&(await pt(e).toMatch(({height:o,width:r})=>!isNaN(r)&&r>0&&!isNaN(o)&&o>0),t.length>0&&await pt(t).toMatch(o=>!!o.filter(({dimensions:{width:r,height:i}})=>!isNaN(r)&&r>0&&!isNaN(i)&&i>0).length)),!0),mf=e=>{const t=se({id:e}),n=z(t,"onPaneReady"),o=z(t,"nodes"),r=z(t,"d3Zoom"),i=z(t,"d3Selection"),a=z(t,"dimensions"),l=z(t,"translateExtent"),s=z(t,"minZoom"),u=z(t,"maxZoom"),c=z(t,"viewport"),h=z(t,"snapToGrid"),d=z(t,"snapGrid"),p=z(t,"getNodes");let b=ne(!1);n.value(()=>b.value=!0);const m=async(_,I)=>{b.value||await yt(a.value,p.value),i.value&&r.value&&r.value.scaleTo(vo(i.value,I==null?void 0:I.duration),_)},k=async(_,I)=>{b.value||await yt(a.value,p.value),i.value&&r.value&&r.value.scaleBy(vo(i.value,I),_)},g=async _=>{await k(1.2,_==null?void 0:_.duration)},B=async _=>{await k(1/1.2,_==null?void 0:_.duration)},C=(_,I,w,T)=>{const{x:V,y:A}=Ji({x:-_,y:-I},l.value),L=to.translate(-V,-A).scale(w);i.value&&r.value&&r.value.transform(vo(i.value,T),L)};return{zoomIn:g,zoomOut:B,zoomTo:m,setTransform:async(_,I)=>{b.value||await yt(a.value,p.value),C(_.x,_.y,_.zoom,I==null?void 0:I.duration)},getTransform:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),fitView:async(_={padding:po,includeHiddenNodes:!1,duration:0})=>{var I,w,T;if(b.value||await yt(a.value,p.value),!p.value.length)return;let V=[];_.nodes&&(V=o.value.filter(ee=>{var f;return(f=_.nodes)==null?void 0:f.includes(ee.id)})),(!V||!V.length)&&(V=_.includeHiddenNodes?V:p.value);const A=Zn(V),{x:L,y:F,zoom:W}=Ir(A,a.value.width,a.value.height,(I=_.minZoom)!=null?I:s.value,(w=_.maxZoom)!=null?w:u.value,(T=_.padding)!=null?T:po,_.offset);C(L,F,W,_==null?void 0:_.duration)},setCenter:async(_,I,w)=>{b.value||await yt(a.value,p.value);const T=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:u.value,V=a.value.width/2-_*T,A=a.value.height/2-I*T;C(V,A,T,w==null?void 0:w.duration)},fitBounds:async(_,I={padding:po})=>{b.value||await yt(a.value,p.value);const{x:w,y:T,zoom:V}=Ir(_,a.value.width,a.value.height,s.value,u.value,I.padding);C(w,T,V,I==null?void 0:I.duration)},project:_=>ra(_,c.value,h.value,d.value)}};function ci(e,t){var n,o;if(t){const r=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(r>0||i>0||e.position.x<0||e.position.y<0){if(t.style?Fe(t.style)&&(t.style={...t.style(t)}):t.style={},t.style.width=(n=t.style.width)!=null?n:t.dimensions.width,t.style.height=(o=t.style.height)!=null?o:t.dimensions.height,r>0)if(Je(t.style.width)){const a=Number(t.style.width.replace("px",""));t.style.width=`${a+r}px`}else t.style.width+=r;if(i>0)if(Je(t.style.height)){const a=Number(t.style.height.replace("px",""));t.style.height=`${a+i}px`}else t.style.height+=i;if(e.position.x<0){const a=Math.abs(e.position.x);if(t.position.x=t.position.x-a,Je(t.style.width)){const l=Number(t.style.width.replace("px",""));t.style.width=`${l+a}px`}else t.style.width+=a;e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);if(t.position.y=t.position.y-a,Je(t.style.height)){const l=Number(t.style.height.replace("px",""));t.style.height=`${l+a}px`}else t.style.height+=a;e.position.y=0}t.dimensions.width=Number(t.style.width.toString().replace("px","")),t.dimensions.height=Number(t.style.height.toString().replace("px",""))}}}const di=(e,t)=>{e.filter(o=>o.type==="add"||o.type==="remove").forEach(o=>{switch(o.type){case"add":t.push(o.item);break;case"remove":t.splice(t.findIndex(r=>r.id===o.id),1);break}});const n=t.map(o=>o.id);return t.forEach(o=>{var r,i;const a=e.filter(l=>l.id===o.id);for(const l of a)switch(l.type){case"select":o.selected=l.selected;break;case"position":if(et(o)&&(typeof l.position<"u"&&(o.position=l.position),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&o.parentNode)){const s=t[n.indexOf(o.parentNode)];s&&et(s)&&ci(o,s)}break;case"dimensions":if(et(o)&&(typeof l.dimensions<"u"&&(o.dimensions=l.dimensions),typeof l.updateStyle<"u"&&(o.style={...o.style||{},width:`${(r=l.dimensions)==null?void 0:r.width}px`,height:`${(i=l.dimensions)==null?void 0:i.height}px`}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&o.parentNode)){const s=t[n.indexOf(o.parentNode)];s&&et(s)&&ci(o,s)}break}}),t},Ye=(e,t)=>({id:e,type:"select",selected:t}),hi=e=>({item:e,type:"add"}),go=e=>({id:e,type:"remove"}),mo=(e,t)=>e.reduce((n,o)=>{const r=t.includes(o.id),i=et(o)?"changedNodes":"changedEdges";return!o.selected&&r?n[i].push(Ye(o.id,!0)):o.selected&&!r&&n[i].push(Ye(o.id,!1)),n},{changedNodes:[],changedEdges:[]});function yf(e,t){const n=y=>{e.hooks.updateNodeInternals.trigger(y)},o=ne();e.hooks.paneReady.on(({id:y})=>{o.value=mf(y)});const r=async()=>new Promise(y=>{o.value?y(o.value):pt(o).not.toBeUndefined().then(()=>y(o.value))}),i=Z(()=>e.nodes.map(y=>y.id)),a=Z(()=>e.edges.map(y=>y.id)),l=y=>e.nodes&&!i.value.length?e.nodes.find(O=>O.id===y):e.nodes[i.value.indexOf(y)],s=y=>e.edges&&!a.value.length?e.edges.find(O=>O.id===y):e.edges[a.value.indexOf(y)],u=(y,O,R)=>{const Y=[];y.forEach(J=>{var Q,oe,re,j;const he={id:J.id,type:"position",dragging:R,from:J.from};if(O&&(he.position=J.position,J.parentNode)){const ge=l(J.parentNode);he.position={x:he.position.x-((oe=(Q=ge==null?void 0:ge.computedPosition)==null?void 0:Q.x)!=null?oe:0),y:he.position.y-((j=(re=ge==null?void 0:ge.computedPosition)==null?void 0:re.y)!=null?j:0)}}Y.push(he)}),Y!=null&&Y.length&&e.hooks.nodesChange.trigger(Y)},c=y=>{var O;if(!e.vueFlowRef)return;const R=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!R)return;let Y;if((O=e.__experimentalFeatures)!=null&&O.nestedFlow){let Q=[R],oe=R,re;for(;!re&&oe;)oe=oe.parentElement,re=oe==null?void 0:oe.classList.contains("vue-flow__transformationpane"),re&&(Q=[oe,...Q]);Q.forEach(j=>{const he=window.getComputedStyle(j),{m22:ge}=new window.DOMMatrixReadOnly(he.transform);Y?Y*=ge:Y=ge})}else{const Q=window.getComputedStyle(R),{m22:oe}=new window.DOMMatrixReadOnly(Q.transform);Y=oe}const J=y.reduce((Q,oe)=>{const re=t.getNode.value(oe.id);if(re){const j=qn(oe.nodeElement);j.width&&j.height&&(re.width!==j.width||re.height!==j.height||oe.forceUpdate)&&(re.handleBounds.source=Dr(".source",oe.nodeElement,Y),re.handleBounds.target=Dr(".target",oe.nodeElement,Y),re.initialized||(re.initialized=!0),Q.push({id:re.id,type:"dimensions",dimensions:j}))}return Q},[]);J.length&&e.hooks.nodesChange.trigger(J)},h=(y,O)=>{const R=y.map(Q=>Q.id);let Y,J=[];if(e.multiSelectionActive)Y=R.map(Q=>Ye(Q,O));else{const Q=mo([...e.nodes,...e.edges],R);Y=Q.changedNodes,J=Q.changedEdges}Y.length&&e.hooks.nodesChange.trigger(Y),J.length&&e.hooks.edgesChange.trigger(J)},d=(y,O)=>{const R=y.map(Q=>Q.id);let Y=[],J;if(e.multiSelectionActive)J=R.map(Q=>Ye(Q,O));else{const Q=mo([...e.nodes,...e.edges],R);Y=Q.changedNodes,J=Q.changedEdges}Y.length&&e.hooks.nodesChange.trigger(Y),J.length&&e.hooks.edgesChange.trigger(J)},p=(y,O)=>{const R=y.filter(et),Y=y.filter(qo),J=R.map(j=>j.id),Q=Y.map(j=>j.id);let{changedNodes:oe,changedEdges:re}=mo([...e.nodes,...e.edges],[...J,...Q]);e.multiSelectionActive&&(oe=J.map(j=>Ye(j,O))),e.multiSelectionActive&&(re=Q.map(j=>Ye(j,O))),oe.length&&e.hooks.nodesChange.trigger(oe),re.length&&e.hooks.edgesChange.trigger(re)},b=y=>{h(y,!0)},m=y=>{d(y,!0)},k=y=>{p(y,!0)},g=y=>{if(!y.length)return h(y,!1);const O=y.map(R=>R.id).map(R=>Ye(R,!1));O.length&&e.hooks.nodesChange.trigger(O)},B=y=>{if(!y.length)return d(y,!1);const O=y.map(R=>R.id).map(R=>Ye(R,!1));O.length&&e.hooks.edgesChange.trigger(O)},C=y=>{if(!y||!y.length)return p([],!1);const{changedNodes:O,changedEdges:R}=y.reduce((Y,J)=>{const Q=Ye(J.id,!1);return et(J)?Y.changedNodes.push(Q):Y.changedEdges.push(Q),Y},{changedNodes:[],changedEdges:[]});O.length&&e.hooks.nodesChange.trigger(O),R.length&&e.hooks.edgesChange.trigger(R)},_=y=>{var O;(O=e.d3Zoom)==null||O.scaleExtent([y,e.maxZoom]),e.minZoom=y},I=y=>{var O;(O=e.d3Zoom)==null||O.scaleExtent([e.minZoom,y]),e.maxZoom=y},w=y=>{var O;(O=e.d3Zoom)==null||O.translateExtent(y),e.translateExtent=y},T=async y=>{if(e.nodeExtent=y,o.value){const O=t.getNodes.value.map(R=>R.id);n(O)}},V=y=>{e.nodesDraggable=y,e.nodesConnectable=y,e.elementsSelectable=y},A=(y,O)=>{if(!e.initialized&&!y.length)return;e.nodes||(e.nodes=[]);const R=y instanceof Function?y(e.nodes):y;e.nodes=Br(R,t.getNode.value,e.nodes,O??e.nodeExtent)},L=y=>{if(!e.initialized&&!y.length)return;const O=y instanceof Function?y(e.edges):y;e.edges=O.reduce((R,Y)=>{const J=t.getNode.value(Y.source),Q=t.getNode.value(Y.target),oe=!J||typeof J>"u",re=!Q||typeof Q>"u";if(oe&&ke(`Couldn't create edge for source id: ${Y.source}; edge id: ${Y.id}`),re&&ke(`Couldn't create edge for target id: ${Y.target}; edge id: ${Y.id}`),oe||re)return R;const j=t.getEdge.value(Y.id);return R.push({...ta(Y,Object.assign({},j,e.defaultEdgeOptions)),sourceNode:J,targetNode:Q}),R},[])},F=(y,O)=>{if(!e.initialized&&!y.length||!y)return;const R=y instanceof Function?y([...e.nodes,...e.edges]):y;A(R.filter(ea),O),L(R.filter(tn))},W=(y,O)=>{const R=y instanceof Function?y(e.nodes):y,Y=Br(R,t.getNode.value,e.nodes,O??e.nodeExtent).map(hi);Y.length&&e.hooks.nodesChange.trigger(Y)},ee=y=>{const O=(y instanceof Function?y(e.edges):y).reduce((R,Y)=>{const J=Ts({...Y,...e.defaultEdgeOptions},e.edges);if(J){const Q=t.getNode.value(J.source),oe=t.getNode.value(J.target),re=!Q||typeof Q>"u",j=!oe||typeof oe>"u";if(re&&ke(`Couldn't create edge for source id: ${J.source}; edge id: ${J.id}`),j&&ke(`Couldn't create edge for target id: ${J.target}; edge id: ${J.id}`),j||re)return R;R.push(hi({...J,sourceNode:Q,targetNode:oe}))}return R},[]);O.length&&e.hooks.edgesChange.trigger(O)},f=(y,O=!0)=>{const R=y instanceof Function?y(e.nodes):y,Y=[],J=[];R.forEach(Q=>{if(Y.push(go(typeof Q=="string"?Q:Q.id)),O){const oe=Xe([typeof Q=="string"?{id:Q}:Q],e.edges);J.push(...oe.map(re=>go(re.id)))}}),Y.length&&e.hooks.nodesChange.trigger(Y),J.length&&e.hooks.edgesChange.trigger(J)},S=y=>{const O=y instanceof Function?y(e.edges):y,R=[];O.forEach(Y=>{R.push(go(typeof Y=="string"?Y:Y.id))}),e.hooks.edgesChange.trigger(R)},v=(y,O)=>Vs(y,O,e.edges),$=y=>di(y,e.nodes),M=y=>di(y,e.edges),x=(y,O,R,Y=!1)=>{Y?e.connectionClickStartHandle=y:e.connectionStartHandle=y,O&&(e.connectionPosition=O),e.hooks.connectStart.trigger({event:R,nodeId:y.nodeId,handleId:y.handleId,handleType:y.type})},E=y=>{e.connectionPosition=y},D=(y,O)=>{e.connectionPosition={x:NaN,y:NaN},O?e.connectionClickStartHandle=null:e.connectionStartHandle=null,e.hooks.connectEnd.trigger(y)},X=y=>{const O=Ps(y),R=O?null:l(y.id);return!O&&!R?[null,null,O]:[O?y:Or(R),R,O]},te=(y,O=!0,R)=>{const[Y,J,Q]=X(y);return Y?(R||e.nodes).filter(oe=>{if(!Q&&(oe.id===J.id||!oe.computedPosition))return!1;const re=Or(oe),j=$o(re,Y);return O&&j>0||j>=Number(y.width)*Number(y.height)}):[]},P=(y,O,R=!0)=>{const[Y]=X(y);if(!Y)return!1;const J=$o(Y,O);return R&&J>0||J>=Number(y.width)*Number(y.height)},U=y=>{var O,R;const Y=y instanceof Function?y(e):y,J=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks"];typeof Y.modelValue<"u"&&F(Y.modelValue,(O=Y.nodeExtent)!=null?O:e.nodeExtent),typeof Y.nodes<"u"&&A(Y.nodes,(R=Y.nodeExtent)!=null?R:e.nodeExtent),typeof Y.edges<"u"&&L(Y.edges);const Q=()=>{typeof Y.maxZoom<"u"&&I(Y.maxZoom),typeof Y.minZoom<"u"&&_(Y.minZoom),typeof Y.translateExtent<"u"&&w(Y.translateExtent),typeof Y.nodeExtent<"u"&&T(Y.nodeExtent)};Object.keys(Y).forEach(oe=>{const re=Y[oe];!J.includes(oe)&&me(re)&&(e[oe]=re)}),e.d3Zoom?Q():pt(()=>e.d3Zoom).not.toBeUndefined().then(Q),e.initialized||(e.initialized=!0)};return{updateNodePositions:u,updateNodeDimensions:c,setElements:F,setNodes:A,setEdges:L,addNodes:W,addEdges:ee,removeNodes:f,removeEdges:S,findNode:l,findEdge:s,updateEdge:v,applyEdgeChanges:M,applyNodeChanges:$,addSelectedElements:k,addSelectedNodes:b,addSelectedEdges:m,setMinZoom:_,setMaxZoom:I,setTranslateExtent:w,setNodeExtent:T,removeSelectedElements:C,removeSelectedNodes:g,removeSelectedEdges:B,startConnection:x,updateConnection:E,endConnection:D,setInteractive:V,setState:U,getIntersectingNodes:te,isNodeIntersecting:P,fitView:async(y={padding:.1})=>{const{fitView:O}=await r();O(y)},zoomIn:async y=>{const{zoomIn:O}=await r();O(y)},zoomOut:async y=>{const{zoomOut:O}=await r();O(y)},zoomTo:async(y,O)=>{const{zoomTo:R}=await r();R(y,O)},setTransform:async(y,O)=>{const{setTransform:R}=await r();R(y,O)},getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),setCenter:async(y,O,R)=>{const{setCenter:Y}=await r();Y(y,O,R)},fitBounds:async(y,O)=>{const{fitBounds:R}=await r();R(y,O)},project:y=>ra(y,e.viewport,e.snapToGrid,e.snapGrid),toObject:()=>JSON.parse(JSON.stringify({nodes:e.nodes,edges:e.edges,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom})),updateNodeInternals:n,$reset:()=>{U(Ta())},$destroy:()=>{}}}const Dt=class{constructor(){bo(this,"currentId",0),bo(this,"flows",new Map)}static getInstance(){return Dt.instance||(Dt.instance=new Dt),Dt.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Ta(n),r=Ll(o),i=Ed(r),a=yf(r,i),l={};Object.entries(r.hooks).forEach(([c,h])=>{const d=`on${c.charAt(0).toUpperCase()+c.slice(1)}`;l[d]=h.on});const s={};Object.entries(r.hooks).forEach(([c,h])=>{s[c]=h.trigger}),a.setState(r),n&&(n.modelValue&&a.setElements(n.modelValue),n.nodes&&a.setNodes(n.nodes),n.edges&&a.setEdges(n.edges));const u={...l,...i,...a,...Rl(r),emits:s,id:t,$destroy:()=>{this.remove(t)}};return this.set(t,u),u}getId(){return`vue-flow-${this.currentId++}`}};let Ka=Dt;bo(Ka,"instance");const se=e=>{const t=Ka.getInstance(),n=Xo(),o=e==null?void 0:e.id,r=(n==null?void 0:n.vueFlowId)||o;let i,a=!1;if(n){const l=ot(Tr,null);typeof l<"u"&&l!==null&&(i=l)}if(i||r&&(i=t.get(r)),!i||i&&o&&o!==i.id){const l=o??t.getId();i=t.create(l,e),n&&(a=!0)}else e&&i.setState(e);if(!i)throw new Error("[vueflow]: store instance not found.");return n&&(ft(Tr,i),n.vueFlowId=i.id,a&&Jt(()=>{t.get(i.id)&&i.$destroy(),i=null})),i},wf=(e,t,n)=>{const o=Mn();return o.run(()=>{[()=>{o.run(()=>{let r,i;const a=!!(e.modelValue&&e.modelValue.value);let l=!!(n.nodes.value.length||n.edges.value.length);r=mt([e.modelValue,()=>{var s,u;return(u=(s=e.modelValue)==null?void 0:s.value)==null?void 0:u.length}],([s])=>{s&&Array.isArray(s)&&(i==null||i.pause(),n.setElements(s),!i&&!l&&s.length?l=!0:i==null||i.resume())},{immediate:a}),i=mt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([s,u])=>{var c;(c=e.modelValue)!=null&&c.value&&Array.isArray(e.modelValue.value)&&(r==null||r.pause(),e.modelValue.value=[...s,...u],ct(()=>{r==null||r.resume()}))},{immediate:l}),Yt(()=>{r==null||r.stop(),i==null||i.stop()})})},()=>{o.run(()=>{let r,i;const a=!!(e.nodes&&e.nodes.value);let l=!!n.nodes.value.length;r=mt([e.nodes,()=>{var s,u;return(u=(s=e.nodes)==null?void 0:s.value)==null?void 0:u.length}],([s])=>{s&&Array.isArray(s)&&(i==null||i.pause(),n.setNodes(s),!i&&!l&&s.length?l=!0:i==null||i.resume())},{immediate:a}),i=mt([n.nodes,()=>n.nodes.value.length],([s])=>{var u;(u=e.nodes)!=null&&u.value&&Array.isArray(e.nodes.value)&&(r==null||r.pause(),e.nodes.value=[...s],ct(()=>{r==null||r.resume()}))},{immediate:l}),Yt(()=>{r==null||r.stop(),i==null||i.stop()})})},()=>{o.run(()=>{let r,i;const a=!!(e.edges&&e.edges.value);let l=!!n.edges.value.length;r=mt([e.edges,()=>{var s,u;return(u=(s=e.edges)==null?void 0:s.value)==null?void 0:u.length}],([s])=>{s&&Array.isArray(s)&&(i==null||i.pause(),n.setEdges(s),!i&&!l&&s.length?l=!0:i==null||i.resume())},{immediate:a}),i=mt([n.edges,()=>n.edges.value.length],([s])=>{var u;(u=e.edges)!=null&&u.value&&Array.isArray(e.edges.value)&&(r==null||r.pause(),e.edges.value=[...s],ct(()=>{r==null||r.resume()}))},{immediate:l}),Yt(()=>{r==null||r.stop(),i==null||i.stop()})})},()=>{o.run(()=>{ve(()=>t.minZoom,()=>{t.minZoom&&me(t.minZoom)&&n.setMinZoom(t.minZoom)})})},()=>{o.run(()=>{ve(()=>t.maxZoom,()=>{t.maxZoom&&me(t.maxZoom)&&n.setMaxZoom(t.maxZoom)})})},()=>{o.run(()=>{ve(()=>t.translateExtent,()=>{t.translateExtent&&me(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)})})},()=>{o.run(()=>{ve(()=>t.nodeExtent,()=>{t.nodeExtent&&me(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)})})},()=>{o.run(()=>{ve(()=>t.applyDefault,()=>{me(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)}),ve(n.applyDefault,(r,i,a)=>{n.applyDefault.value?(n.onNodesChange(n.applyNodeChanges),n.onEdgesChange(n.applyEdgeChanges)):(n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)),a(()=>{n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)})},{immediate:!0})})},()=>{o.run(()=>{const r=async i=>{let a=i;Fe(t.autoConnect)&&(a=await t.autoConnect(i)),a!==!1&&n.addEdges([a])};ve(()=>t.autoConnect,()=>{me(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),ve(n.autoConnect,(i,a,l)=>{i?n.onConnect(r):n.hooks.value.connect.off(r),l(()=>{n.hooks.value.connect.off(r)})},{immediate:!0})})},()=>{const r=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(i=>{if(!r.includes(i)){const a=z(t,i),l=n[i];o.run(()=>{ve(a,s=>{me(s)&&(l.value=s)},{flush:"pre"})})}})}].forEach(r=>r())}),()=>o.stop()};function fi(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const _f={name:"Pane"},bf=de({..._f,props:{isSelecting:{type:Boolean}},setup(e){const{id:t,vueFlowRef:n,getNodes:o,getEdges:r,viewport:i,emits:a,userSelectionActive:l,removeSelectedElements:s,panOnDrag:u,userSelectionRect:c,elementsSelectable:h,nodesSelectionActive:d,addSelectedElements:p,getSelectedEdges:b,removeNodes:m,removeEdges:k,selectionMode:g,deleteKeyCode:B,multiSelectionKeyCode:C,multiSelectionActive:_}=se(),I=ne(null),w=ne(0),T=ne(0),V=ne(),A=Z(()=>h.value&&(e.isSelecting||l.value));Ht(B,x=>{if(!x)return;const E=o.value.reduce((D,X)=>((!X.selected&&X.parentNode&&D.find(te=>te.id===X.parentNode)||X.selected)&&D.push(X),D),[]);(E||b.value)&&(b.value.length>0&&k(b.value),E.length>0&&m(E),d.value=!1,s())}),Ht(C,x=>{_.value=x});function L(){l.value=!1,c.value=null,w.value=0,T.value=0}function F(x){x.target!==I.value||A.value||(a.paneClick(x),s(),d.value=!1)}function W(x){var E;if(x.target===I.value){if(Array.isArray(u.value)&&((E=u.value)!=null&&E.includes(2))){x.preventDefault();return}a.paneContextMenu(x)}}function ee(x){x.target===I.value&&a.paneScroll(x)}function f(x){if(V.value=n.value.getBoundingClientRect(),!A.value||!h||!e.isSelecting||x.button!==0||x.target!==I.value||!V.value)return;const{x:E,y:D}=fi(x,V.value);s(),c.value={width:0,height:0,startX:E,startY:D,x:E,y:D},l.value=!0,a.selectionStart(x)}function S(x){var E,D;if(!e.isSelecting||!V.value||!c.value)return;if(!A.value)return a.paneMouseMove(x);l.value||(l.value=!0),d.value&&(d.value=!1);const X=fi(x,V.value),te=(E=c.value.startX)!=null?E:0,P=(D=c.value.startY)!=null?D:0,U={...c.value,x:X.x<te?X.x:te,y:X.y<P?X.y:P,width:Math.abs(X.x-te),height:Math.abs(X.y-P)},y=la(o.value,c.value,i.value,g.value===Zo.Partial),O=Xe(y,r.value);w.value=y.length,T.value=O.length,c.value=U,p([...y,...O])}function v(x){!A.value||(!l.value&&c.value&&x.target===I.value&&F(x),d.value=w.value>0,L(),a.selectionEnd(x))}function $(x){var E;if(!A.value)return a.paneMouseLeave(x);l.value&&(d.value=w.value>0,(E=a.selectionEnd)==null||E.call(a,x)),L()}function M(x){A.value||a.paneMouseEnter(x)}return(x,E)=>(H(),K("div",{ref_key:"container",ref:I,key:`pane-${N(t)}`,class:Me(["vue-flow__pane vue-flow__container",[{selection:e.isSelecting}]]),onClick:F,onContextmenu:W,onWheel:ee,onMouseenter:M,onMousedown:f,onMousemove:S,onMouseup:v,onMouseleave:$},[le(x.$slots,"default"),N(l)&&N(c)?(H(),ue(bd,{key:0})):fe("",!0),N(d)?(H(),ue(_d,{key:1})):fe("",!0)],34))}}),xf={class:"vue-flow__nodes vue-flow__container"},$f={name:"Nodes"},kf=de({...$f,setup(e){const t=ot(Gn),n=se(),o=z(n,"nodesDraggable"),r=z(n,"nodesFocusable"),i=z(n,"elementsSelectable"),a=z(n,"nodesConnectable"),l=z(n,"getNodes"),s=z(n,"getNodeTypes"),u=z(n,"updateNodeDimensions"),c=z(n,"emits"),h=g=>typeof g>"u"?o.value:g,d=g=>typeof g>"u"?i.value:g,p=g=>typeof g>"u"?a.value:g,b=g=>typeof g>"u"?r.value:g,m=ne();Be(()=>{const g=[];let B=!1;const C=_=>{g.push(_),g.length===l.value.length&&ct(()=>{B=!0,c.value.nodesInitialized()})};m.value=new ResizeObserver(_=>{const I=_.map(w=>{const T=w.target.getAttribute("data-id");return B||C(T),{id:T,nodeElement:w.target}});u.value(I)})}),Fo(()=>{var g;return(g=m.value)==null?void 0:g.disconnect()});const k=(g,B)=>{const C=g||"default";let _=B??s.value[C];const I=Wn();if(typeof _=="string"&&I){const T=Object.keys(I.appContext.components);T&&T.includes(C)&&(_=Wi(C,!1))}return typeof _!="string"?_:(t==null?void 0:t[`node-${C}`])||(ke(`Node type "${g}" not found and no node-slot detected. Using fallback type "default".`),!1)};return(g,B)=>(H(),K("div",xf,[m.value?(H(!0),K(ye,{key:0},Ie(l.value,C=>(H(),ue(N(Xc),{id:C.id,key:C.id,"resize-observer":m.value,type:k(C.type,C.template),name:C.type||"default",draggable:h(C.draggable),selectable:d(C.selectable),connectable:p(C.connectable),focusable:b(C.focusable),node:C},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","focusable","node"]))),128)):fe("",!0)]))}}),Ef=["id","markerWidth","markerHeight","markerUnits","orient"],Nf=["stroke","stroke-width","fill"],Sf=["stroke","stroke-width"],Mf={name:"MarkerType"},Cf=de({...Mf,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(H(),K("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type==="arrowclosed"?(H(),K("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,Nf)):fe("",!0),e.type==="arrow"?(H(),K("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,Sf)):fe("",!0)],8,Ef))}}),zf={name:"MarkerDefinitions"},Af=de({...zf,setup(e){const t=se(),n=z(t,"id"),o=z(t,"edges"),r=z(t,"connectionLineOptions"),i=z(t,"defaultMarkerColor"),a=Z(()=>{const l=[],s=[],u=c=>{if(c){const h=at(c,n.value);l.includes(h)||(typeof c=="object"?s.push({...c,id:h,color:c.color||i.value}):s.push({id:h,color:i.value,type:c}),l.push(h))}};return[r.value.markerEnd,r.value.markerStart].forEach(u),o.value.reduce((c,h)=>([h.markerStart,h.markerEnd].forEach(u),c.sort((d,p)=>d.id.localeCompare(p.id))),s),s});return(l,s)=>(H(),K("defs",null,[(H(!0),K(ye,null,Ie(N(a),u=>(H(),ue(Cf,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),Pf={key:0,class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Of={name:"Edges"},If=de({...Of,setup(e){const t=ot(Gn),n=se(),o=z(n,"onPaneReady"),r=z(n,"connectionStartHandle"),i=z(n,"nodesConnectable"),a=z(n,"edgesUpdatable"),l=z(n,"edgesFocusable"),s=z(n,"elementsSelectable"),u=z(n,"getSelectedNodes"),c=z(n,"getSelectedEdges"),h=z(n,"getNode"),d=z(n,"getEdges"),p=z(n,"getEdgeTypes"),b=z(n,"noPanClassName"),m=z(n,"elevateEdgesOnSelect"),k=A=>typeof A>"u"?s.value:A,g=A=>typeof A>"u"?a.value:A,B=A=>typeof A>"u"?l.value:A,C=$r(()=>{var A;return(A=r.value)==null?void 0:A.nodeId},()=>{var A;return(A=r.value)!=null&&A.nodeId?h.value(r.value.nodeId):!1}),_=$r(()=>{var A;return(A=r.value)==null?void 0:A.nodeId},()=>{var A,L;return!!(C.value&&(typeof C.value.connectable>"u"?i.value:C.value.connectable)&&((A=r.value)!=null&&A.nodeId)&&((L=r.value)!=null&&L.type))});let I=ne([]),w=Mn();o.value(()=>{w||(w=Mn()),w.run(()=>{ve([u,d,()=>m.value?c.value:[]],()=>{m.value?ct(()=>I.value=sd(d.value,h.value)):I.value=[{isMaxLevel:!0,edges:d.value,level:0}]},{immediate:!0})})}),Fo(()=>{w==null||w.stop(),w=null});const T=(A,L)=>{const F=A||"default";let W=L??p.value[F];const ee=Wn();if(typeof W=="string"&&ee){const S=Object.keys(ee.appContext.components);S&&S.includes(F)&&(W=Wi(F,!1))}return W&&typeof W!="string"?W:(t==null?void 0:t[`edge-${F}`])||(ke(`Edge type "${A}" not found and no edge-slot detected. Using fallback type "default".`),!1)},V=A=>{const L=A.class instanceof Function?A.class(A):A.class;return[b.value,L]};return(A,L)=>(H(),K(ye,null,[(H(!0),K(ye,null,Ie(I.value,F=>(H(),K("svg",{key:F.level,class:"vue-flow__edges vue-flow__container",style:be(`z-index: ${F.level}`)},[F.isMaxLevel?(H(),ue(Af,{key:0})):fe("",!0),ce("g",null,[(H(!0),K(ye,null,Ie(F.edges,W=>(H(),ue(N(cd),{id:W.id,key:W.id,edge:W,type:T(W.type,W.template),name:W.type||"default","source-node":h.value(W.source),"target-node":h.value(W.target),selectable:k(W.selectable),updatable:g(W.updatable),focusable:B(W.focusable),class:Me(V(W))},null,8,["id","edge","type","name","source-node","target-node","selectable","updatable","focusable","class"]))),128))])],4))),128)),_.value&&C.value?(H(),K("svg",Pf,[ie(md,{"source-node":C.value},null,8,["source-node"])])):fe("",!0)],64))}}),Bf=ce("div",{class:"vue-flow__edge-labels"},null,-1),Tf={name:"Transform"},Vf=de({...Tf,setup(e){const{id:t,viewport:n,dimensions:o,fitViewOnInit:r,emits:i,fitView:a,...l}=se(),s=async c=>("screen"in en()&&await pt(c).toMatch(({height:d,width:p})=>!isNaN(p)&&p>0&&!isNaN(d)&&d>0),!0);let u=ne(!1);return Be(async()=>{await s(o.value),u.value=!0,i.paneReady({id:t,viewport:n,dimensions:o,fitViewOnInit:r,fitView:a,emits:i,...l}),r!=null&&r.value&&a()}),(c,h)=>(H(),K("div",{key:`transform-${N(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:be({transform:`translate(${N(n).x}px,${N(n).y}px) scale(${N(n).zoom})`,opacity:u.value?void 0:0})},[ie(If),Bf,ie(kf),le(c.$slots,"default")],4))}}),Df={name:"Viewport"},Lf=de({...Df,setup(e){const t=se(),n=z(t,"id"),o=z(t,"minZoom"),r=z(t,"maxZoom"),i=z(t,"defaultViewport"),a=z(t,"translateExtent"),l=z(t,"dimensions"),s=z(t,"zoomActivationKeyCode"),u=z(t,"selectionKeyCode"),c=z(t,"panActivationKeyCode"),h=z(t,"panOnScroll"),d=z(t,"panOnScrollMode"),p=z(t,"panOnScrollSpeed"),b=z(t,"panOnDrag"),m=z(t,"zoomOnDoubleClick"),k=z(t,"zoomOnPinch"),g=z(t,"zoomOnScroll"),B=z(t,"preventScrolling"),C=z(t,"noWheelClassName"),_=z(t,"noPanClassName"),I=z(t,"setState"),w=z(t,"emits"),T=z(t,"connectionStartHandle"),V=z(t,"userSelectionActive"),A=z(t,"paneDragging"),L=ne();let F=ne(!1),W=ne(!1),ee=ne(!1);const f=(P,U)=>U===2&&Array.isArray(P)&&P.includes(2),S=Ht(c.value),v=Z(()=>!!T.value),$=Z(()=>!F.value&&b.value&&S.value),M=Z(()=>u.value!==!0&&F.value||u.value===!0&&$.value!==!0),x=(P,U)=>P.x!==U.x&&!isNaN(U.x)||P.y!==U.y&&!isNaN(U.y)||P.zoom!==U.k&&!isNaN(U.k),E=P=>({x:P.x,y:P.y,zoom:P.k}),D=()=>{if(!L.value)return;const{width:P,height:U}=qn(L.value);l.value.width=P,l.value.height=U},X=(P,U)=>P.target.closest(`.${U}`);let te=ne({x:0,y:0,zoom:0});return Be(()=>{$s(L,D);const P=en();Wo(P,"resize",D)}),Be(()=>{const P=L.value,U=P.getBoundingClientRect(),y=gf().scaleExtent([o.value,r.value]).translateExtent(a.value),O=Ee(P).call(y),R=O.on("wheel.zoom"),Y=to.translate(i.value.x,i.value.y).scale(zn(i.value.zoom,o.value,r.value)),J=[[0,0],[U.width,U.height]],Q=y.constrain()(Y,J,a.value);y.transform(O,Q),I.value({d3Zoom:y,d3Selection:O,d3ZoomHandler:R,viewport:{x:Y.x,y:Y.y,zoom:Y.k},viewportRef:P});const oe=j=>{F.value=j,j&&V.value&&!W.value?y.on("zoom",null):!j&&!V.value&&y.on("zoom",he=>{var ge;I.value({viewport:{x:he.transform.x,y:he.transform.y,zoom:he.transform.k}});const rt=E(he.transform);ee.value=f(b.value,(ge=he.sourceEvent)==null?void 0:ge.button),w.value.viewportChange(rt),w.value.move({event:he,flowTransform:rt})})};Ht(u.value,oe),oe(!1);const re=Ht(s.value);y.on("start",j=>{var he;if(!j.sourceEvent)return null;W.value=!0;const ge=E(j.transform);((he=j.sourceEvent)==null?void 0:he.type)==="mousedown"&&I.value({paneDragging:!0}),te.value=ge,w.value.viewportChangeStart(ge),w.value.moveStart({event:j,flowTransform:ge})}),y.on("end",j=>{var he;if(!j.sourceEvent)return null;if(W.value=!1,I.value({paneDragging:!1}),f(b.value,(he=j.sourceEvent)==null?void 0:he.button)&&!ee.value&&w.value.paneContextMenu(j.sourceEvent),ee.value=!1,x(te.value,j.transform)){const ge=E(j.transform);te.value=ge,w.value.viewportChangeEnd(ge),w.value.moveEnd({event:j,flowTransform:ge})}}),Ho(()=>{h.value&&!re.value&&!V.value?O.on("wheel",j=>{if(X(j,C.value))return!1;j.preventDefault(),j.stopImmediatePropagation();const he=O.property("__zoom").k||1;if(j.ctrlKey&&k.value){const ao=Ae(j),zl=-j.deltaY*(j.deltaMode===1?.05:j.deltaMode?1:.002)*10,Al=he*2**zl;y.scaleTo(O,Al,ao);return}const ge=j.deltaMode===1?20:1,rt=d.value===Pn.Vertical?0:j.deltaX*ge,io=d.value===Pn.Horizontal?0:j.deltaY*ge;y.translateBy(O,-(rt/he)*p.value,-(io/he)*p.value)}).on("wheel.zoom",null):typeof R<"u"&&O.on("wheel",j=>{if(!B.value||X(j,C.value))return null;j.preventDefault()}).on("wheel.zoom",R)}),y.filter(j=>{var he,ge;const rt=re.value||g.value,io=k.value&&j.ctrlKey;if(j.button===1&&j.type==="mousedown"&&((he=j.target)!=null&&he.closest(".vue-flow__node")||(ge=j.target)!=null&&ge.closest(".vue-flow__edge")))return!0;if(!b.value&&!rt&&!h.value&&!m.value&&!k.value||V.value||!m.value&&j.type==="dblclick"||X(j,C.value)&&j.type==="wheel"||X(j,_.value)&&j.type!=="wheel"||!k.value&&j.ctrlKey&&j.type==="wheel"||!rt&&!h.value&&!io&&j.type==="wheel"||!b.value&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(b.value)&&!b.value.includes(j.button)&&(j.type==="mousedown"||j.type==="touchstart"))return!1;const ao=Array.isArray(b.value)&&b.value.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&ao})}),(P,U)=>(H(),K("div",{ref_key:"viewportEl",ref:L,key:`viewport-${n.value}`,class:"vue-flow__viewport vue-flow__container"},[ie(bf,{"is-selecting":N(M),class:Me({connecting:v.value,dragging:A.value,draggable:!!b.value})},{default:ae(()=>[ie(Vf,null,{default:ae(()=>[le(P.$slots,"zoom-pane")]),_:3})]),_:3},8,["is-selecting","class"]),le(P.$slots,"default")]))}}),Rf=["id"],Yf=["id"],Xf=["id"],Hf=de({__name:"A11yDescriptions",setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=se(),r={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"};return(i,a)=>(H(),K(ye,null,[ce("div",{id:`${N(Ma)}-${N(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Et(N(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Rf),ce("div",{id:`${N(Ca)}-${N(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Yf),N(n)?fe("",!0):(H(),K("div",{key:0,id:`${N(Lc)}-${N(t)}`,"aria-live":"assertive","aria-atomic":"true",style:r},Et(N(o)),9,Xf))],64))}}),jf={name:"VueFlow"},Ff=de({...jf,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:null,deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,panActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:null,maxZoom:null,defaultViewport:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:null,edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},__experimentalFeatures:null},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=Xt(o,"modelValue",n),i=Xt(o,"nodes",n),a=Xt(o,"edges",n),{vueFlowRef:l,id:s,hooks:u,getNodeTypes:c,getEdgeTypes:h,$reset:d,...p}=se(o),b=wf({modelValue:r,nodes:i,edges:a},o,{vueFlowRef:l,id:s,hooks:u,getNodeTypes:c,getEdgeTypes:h,$reset:d,...p}),m=ne();return Vl(()=>{b()}),Be(()=>{l.value=m.value}),zs(n,u),ft(Gn,ji()),t({vueFlowRef:l,id:s,hooks:u,getNodeTypes:c,getEdgeTypes:h,$reset:d,...p}),(k,g)=>(H(),K("div",{ref_key:"el",ref:m,class:"vue-flow"},[ie(Lf,null,{nodes:ae(()=>[(H(!0),K(ye,null,Ie(Object.keys(N(c)),B=>le(k.$slots,`node-${B}`)),256))]),edges:ae(()=>[(H(!0),K(ye,null,Ie(Object.keys(N(h)),B=>le(k.$slots,`edge-${B}`)),256))]),"connection-name":ae(()=>[le(k.$slots,"connection-line")]),"zoom-pane":ae(()=>[le(k.$slots,"zoom-pane")]),default:ae(()=>[le(k.$slots,"default")]),_:3}),ie(Hf)],512))}}),Qa=de({__name:"Panel",props:{position:null},setup(e){const t=e,{userSelectionActive:n}=se(),o=Z(()=>`${t.position}`.split("-"));return(r,i)=>(H(),K("div",{class:Me(["vue-flow__panel",N(o)]),style:be({pointerEvents:N(n)?"none":"all"})},[le(r.$slots,"default")],6))}}),Uf=["x","y","width","height"],Wf=["stroke","stroke-width","d"],qf=["cx","cy","r","fill"],Zf={key:2,height:"100",width:"100"},Gf=["fill"],Kf=["x","y","fill"],Qf={name:"Background"},Jf=de({...Qf,props:{variant:{default:()=>"dots"},gap:{default:10},size:{default:.4},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0}},setup(e){const t={dots:"#81818a",lines:"#eee"},{id:n,viewport:o}=se(),r=Z(()=>{const s=e.gap&&e.gap*o.value.zoom,u=s&&o.value.x%s,c=s&&o.value.y%s,h=e.size*o.value.zoom;return{scaledGap:s,xOffset:u,yOffset:c,size:h}}),i=`pattern-${n}`,a=Z(()=>e.patternColor||t[e.variant||"dots"]),l=Z(()=>`M${r.value.scaledGap/2} 0 V${r.value.scaledGap} M0 ${r.value.scaledGap/2} H${r.value.scaledGap}`);return(s,u)=>(H(),K("svg",{class:"vue-flow__background vue-flow__container",style:be({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[le(s.$slots,"pattern-container",{id:i},()=>[ce("pattern",{id:i,x:r.value.xOffset,y:r.value.yOffset,width:r.value.scaledGap,height:r.value.scaledGap,patternUnits:"userSpaceOnUse"},[le(s.$slots,"pattern",{},()=>[e.variant==="lines"?(H(),K("path",{key:0,stroke:N(a),"stroke-width":e.size,d:N(l)},null,8,Wf)):e.variant==="dots"?(H(),K("circle",{key:1,cx:r.value.size,cy:r.value.size,r:r.value.size,fill:N(a)},null,8,qf)):fe("",!0),e.bgColor?(H(),K("svg",Zf,[ce("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,Gf)])):fe("",!0)])],8,Uf)]),ce("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${i})`},null,8,Kf),le(s.$slots,"default",{id:i})],4))}});var ep={value:()=>{}};function fr(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new kn(n)}function kn(e){this._=e}function tp(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}kn.prototype=fr.prototype={constructor:kn,on:function(e,t){var n=this._,o=tp(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=np(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=pi(n[r],e.name,t);else if(t==null)for(r in n)n[r]=pi(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new kn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function np(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function pi(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=ep,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Io="http://www.w3.org/1999/xhtml";const vi={svg:"http://www.w3.org/2000/svg",xhtml:Io,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function no(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vi.hasOwnProperty(t)?{space:vi[t],local:e}:e}function op(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Io&&t.documentElement.namespaceURI===Io?t.createElement(e):t.createElementNS(n,e)}}function rp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ja(e){var t=no(e);return(t.local?rp:op)(t)}function ip(){}function pr(e){return e==null?ip:function(){return this.querySelector(e)}}function ap(e){typeof e!="function"&&(e=pr(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=new Array(a),s,u,c=0;c<a;++c)(s=i[c])&&(u=e.call(s,s.__data__,c,i))&&("__data__"in s&&(u.__data__=s.__data__),l[c]=u);return new $e(o,this._parents)}function lp(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function sp(){return[]}function el(e){return e==null?sp:function(){return this.querySelectorAll(e)}}function up(e){return function(){return lp(e.apply(this,arguments))}}function cp(e){typeof e=="function"?e=up(e):e=el(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),r.push(s));return new $e(o,r)}function tl(e){return function(){return this.matches(e)}}function nl(e){return function(t){return t.matches(e)}}var dp=Array.prototype.find;function hp(e){return function(){return dp.call(this.children,e)}}function fp(){return this.firstElementChild}function pp(e){return this.select(e==null?fp:hp(typeof e=="function"?e:nl(e)))}var vp=Array.prototype.filter;function gp(){return Array.from(this.children)}function mp(e){return function(){return vp.call(this.children,e)}}function yp(e){return this.selectAll(e==null?gp:mp(typeof e=="function"?e:nl(e)))}function wp(e){typeof e!="function"&&(e=tl(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],s,u=0;u<a;++u)(s=i[u])&&e.call(s,s.__data__,u,i)&&l.push(s);return new $e(o,this._parents)}function ol(e){return new Array(e.length)}function _p(){return new $e(this._enter||this._groups.map(ol),this._parents)}function Rn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Rn.prototype={constructor:Rn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bp(e){return function(){return e}}function xp(e,t,n,o,r,i){for(var a=0,l,s=t.length,u=i.length;a<u;++a)(l=t[a])?(l.__data__=i[a],o[a]=l):n[a]=new Rn(e,i[a]);for(;a<s;++a)(l=t[a])&&(r[a]=l)}function $p(e,t,n,o,r,i,a){var l,s,u=new Map,c=t.length,h=i.length,d=new Array(c),p;for(l=0;l<c;++l)(s=t[l])&&(d[l]=p=a.call(s,s.__data__,l,t)+"",u.has(p)?r[l]=s:u.set(p,s));for(l=0;l<h;++l)p=a.call(e,i[l],l,i)+"",(s=u.get(p))?(o[l]=s,s.__data__=i[l],u.delete(p)):n[l]=new Rn(e,i[l]);for(l=0;l<c;++l)(s=t[l])&&u.get(d[l])===s&&(r[l]=s)}function kp(e){return e.__data__}function Ep(e,t){if(!arguments.length)return Array.from(this,kp);var n=t?$p:xp,o=this._parents,r=this._groups;typeof e!="function"&&(e=bp(e));for(var i=r.length,a=new Array(i),l=new Array(i),s=new Array(i),u=0;u<i;++u){var c=o[u],h=r[u],d=h.length,p=Np(e.call(c,c&&c.__data__,u,o)),b=p.length,m=l[u]=new Array(b),k=a[u]=new Array(b),g=s[u]=new Array(d);n(c,h,m,k,g,p,t);for(var B=0,C=0,_,I;B<b;++B)if(_=m[B]){for(B>=C&&(C=B+1);!(I=k[C])&&++C<b;);_._next=I||null}}return a=new $e(a,o),a._enter=l,a._exit=s,a}function Np(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sp(){return new $e(this._exit||this._groups.map(ol),this._parents)}function Mp(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Cp(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=new Array(r),s=0;s<a;++s)for(var u=n[s],c=o[s],h=u.length,d=l[s]=new Array(h),p,b=0;b<h;++b)(p=u[b]||c[b])&&(d[b]=p);for(;s<r;++s)l[s]=n[s];return new $e(l,this._parents)}function zp(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Ap(e){e||(e=Pp);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],l=a.length,s=r[i]=new Array(l),u,c=0;c<l;++c)(u=a[c])&&(s[c]=u);s.sort(t)}return new $e(r,this._parents).order()}function Pp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Op(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ip(){return Array.from(this)}function Bp(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function Tp(){let e=0;for(const t of this)++e;return e}function Vp(){return!this.node()}function Dp(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,l;i<a;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function Lp(e){return function(){this.removeAttribute(e)}}function Rp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yp(e,t){return function(){this.setAttribute(e,t)}}function Xp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Hp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function jp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Fp(e,t){var n=no(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Rp:Lp:typeof t=="function"?n.local?jp:Hp:n.local?Xp:Yp)(n,t))}function rl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Up(e){return function(){this.style.removeProperty(e)}}function Wp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qp(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Zp(e,t,n){return arguments.length>1?this.each((t==null?Up:typeof t=="function"?qp:Wp)(e,t,n??"")):Ct(this.node(),e)}function Ct(e,t){return e.style.getPropertyValue(t)||rl(e).getComputedStyle(e,null).getPropertyValue(t)}function Gp(e){return function(){delete this[e]}}function Kp(e,t){return function(){this[e]=t}}function Qp(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jp(e,t){return arguments.length>1?this.each((t==null?Gp:typeof t=="function"?Qp:Kp)(e,t)):this.node()[e]}function il(e){return e.trim().split(/^|\s+/)}function vr(e){return e.classList||new al(e)}function al(e){this._node=e,this._names=il(e.getAttribute("class")||"")}al.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ll(e,t){for(var n=vr(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function sl(e,t){for(var n=vr(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ev(e){return function(){ll(this,e)}}function tv(e){return function(){sl(this,e)}}function nv(e,t){return function(){(t.apply(this,arguments)?ll:sl)(this,e)}}function ov(e,t){var n=il(e+"");if(arguments.length<2){for(var o=vr(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?nv:t?ev:tv)(n,t))}function rv(){this.textContent=""}function iv(e){return function(){this.textContent=e}}function av(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lv(e){return arguments.length?this.each(e==null?rv:(typeof e=="function"?av:iv)(e)):this.node().textContent}function sv(){this.innerHTML=""}function uv(e){return function(){this.innerHTML=e}}function cv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dv(e){return arguments.length?this.each(e==null?sv:(typeof e=="function"?cv:uv)(e)):this.node().innerHTML}function hv(){this.nextSibling&&this.parentNode.appendChild(this)}function fv(){return this.each(hv)}function pv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vv(){return this.each(pv)}function gv(e){var t=typeof e=="function"?e:Ja(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mv(){return null}function yv(e,t){var n=typeof e=="function"?e:Ja(e),o=t==null?mv:typeof t=="function"?t:pr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function wv(){var e=this.parentNode;e&&e.removeChild(this)}function _v(){return this.each(wv)}function bv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $v(e){return this.select(e?xv:bv)}function kv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ev(e){return function(t){e.call(this,t,this.__data__)}}function Nv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Sv(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Mv(e,t,n){return function(){var o=this.__on,r,i=Ev(t);if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Cv(e,t,n){var o=Nv(e+""),r,i=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,c;s<u;++s)for(r=0,c=l[s];r<i;++r)if((a=o[r]).type===c.type&&a.name===c.name)return c.value}return}for(l=t?Mv:Sv,r=0;r<i;++r)this.each(l(o[r],t,n));return this}function ul(e,t,n){var o=rl(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function zv(e,t){return function(){return ul(this,e,t)}}function Av(e,t){return function(){return ul(this,e,t.apply(this,arguments))}}function Pv(e,t){return this.each((typeof t=="function"?Av:zv)(e,t))}function*Ov(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var cl=[null];function $e(e,t){this._groups=e,this._parents=t}function an(){return new $e([[document.documentElement]],cl)}function Iv(){return this}$e.prototype=an.prototype={constructor:$e,select:ap,selectAll:cp,selectChild:pp,selectChildren:yp,filter:wp,data:Ep,enter:_p,exit:Sp,join:Mp,merge:Cp,selection:Iv,order:zp,sort:Ap,call:Op,nodes:Ip,node:Bp,size:Tp,empty:Vp,each:Dp,attr:Fp,style:Zp,property:Jp,classed:ov,text:lv,html:dv,raise:fv,lower:vv,append:gv,insert:yv,remove:_v,clone:$v,datum:kv,on:Cv,dispatch:Pv,[Symbol.iterator]:Ov};function Qe(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],cl)}function Bv(e){let t;for(;t=e.sourceEvent;)e=t;return e}function qe(e,t){if(e=Bv(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Bo={capture:!0,passive:!1};function To(e){e.preventDefault(),e.stopImmediatePropagation()}function Tv(e){var t=e.document.documentElement,n=Qe(e).on("dragstart.drag",To,Bo);"onselectstart"in t?n.on("selectstart.drag",To,Bo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vv(e,t){var n=e.document.documentElement,o=Qe(e).on("dragstart.drag",null);t&&(o.on("click.drag",To,Bo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function gr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dl(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function ln(){}var Zt=.7,Yn=1/Zt,kt="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dv=/^#([0-9a-f]{3,8})$/,Lv=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Rv=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Yv=new RegExp(`^rgba\\(${kt},${kt},${kt},${Gt}\\)$`),Xv=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${Gt}\\)$`),Hv=new RegExp(`^hsl\\(${Gt},${Oe},${Oe}\\)$`),jv=new RegExp(`^hsla\\(${Gt},${Oe},${Oe},${Gt}\\)$`),gi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gr(ln,Kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mi,formatHex:mi,formatHex8:Fv,formatHsl:Uv,formatRgb:yi,toString:yi});function mi(){return this.rgb().formatHex()}function Fv(){return this.rgb().formatHex8()}function Uv(){return hl(this).formatHsl()}function yi(){return this.rgb().formatRgb()}function Kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Dv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wi(t):n===3?new _e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lv.exec(e))?new _e(t[1],t[2],t[3],1):(t=Rv.exec(e))?new _e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yv.exec(e))?vn(t[1],t[2],t[3],t[4]):(t=Xv.exec(e))?vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hv.exec(e))?xi(t[1],t[2]/100,t[3]/100,1):(t=jv.exec(e))?xi(t[1],t[2]/100,t[3]/100,t[4]):gi.hasOwnProperty(e)?wi(gi[e]):e==="transparent"?new _e(NaN,NaN,NaN,0):null}function wi(e){return new _e(e>>16&255,e>>8&255,e&255,1)}function vn(e,t,n,o){return o<=0&&(e=t=n=NaN),new _e(e,t,n,o)}function Wv(e){return e instanceof ln||(e=Kt(e)),e?(e=e.rgb(),new _e(e.r,e.g,e.b,e.opacity)):new _e}function Vo(e,t,n,o){return arguments.length===1?Wv(e):new _e(e,t,n,o??1)}function _e(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}gr(_e,Vo,dl(ln,{brighter(e){return e=e==null?Yn:Math.pow(Yn,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zt:Math.pow(Zt,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _e(ht(this.r),ht(this.g),ht(this.b),Xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_i,formatHex:_i,formatHex8:qv,formatRgb:bi,toString:bi}));function _i(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}`}function qv(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}${ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function bi(){const e=Xn(this.opacity);return`${e===1?"rgb(":"rgba("}${ht(this.r)}, ${ht(this.g)}, ${ht(this.b)}${e===1?")":`, ${e})`}`}function Xn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ht(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ut(e){return e=ht(e),(e<16?"0":"")+e.toString(16)}function xi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Se(e,t,n,o)}function hl(e){if(e instanceof Se)return new Se(e.h,e.s,e.l,e.opacity);if(e instanceof ln||(e=Kt(e)),!e)return new Se;if(e instanceof Se)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,s=(i+r)/2;return l?(t===i?a=(n-o)/l+(n<o)*6:n===i?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?i+r:2-i-r,a*=60):l=s>0&&s<1?0:a,new Se(a,l,s,e.opacity)}function Zv(e,t,n,o){return arguments.length===1?hl(e):new Se(e,t,n,o??1)}function Se(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}gr(Se,Zv,dl(ln,{brighter(e){return e=e==null?Yn:Math.pow(Yn,e),new Se(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zt:Math.pow(Zt,e),new Se(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new _e(yo(e>=240?e-240:e+120,r,o),yo(e,r,o),yo(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Se($i(this.h),gn(this.s),gn(this.l),Xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xn(this.opacity);return`${e===1?"hsl(":"hsla("}${$i(this.h)}, ${gn(this.s)*100}%, ${gn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $i(e){return e=(e||0)%360,e<0?e+360:e}function gn(e){return Math.max(0,Math.min(1,e||0))}function yo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fl=e=>()=>e;function Gv(e,t){return function(n){return e+n*t}}function Kv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Qv(e){return(e=+e)==1?pl:function(t,n){return n-t?Kv(t,n,e):fl(isNaN(t)?n:t)}}function pl(e,t){var n=t-e;return n?Gv(e,n):fl(isNaN(e)?t:e)}const ki=function e(t){var n=Qv(t);function o(r,i){var a=n((r=Vo(r)).r,(i=Vo(i)).r),l=n(r.g,i.g),s=n(r.b,i.b),u=pl(r.opacity,i.opacity);return function(c){return r.r=a(c),r.g=l(c),r.b=s(c),r.opacity=u(c),r+""}}return o.gamma=e,o}(1);function Ge(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Do=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wo=new RegExp(Do.source,"g");function Jv(e){return function(){return e}}function eg(e){return function(t){return e(t)+""}}function tg(e,t){var n=Do.lastIndex=wo.lastIndex=0,o,r,i,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=Do.exec(e))&&(r=wo.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(o=o[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Ge(o,r)})),n=wo.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?eg(s[0].x):Jv(t):(t=s.length,function(u){for(var c=0,h;c<t;++c)l[(h=s[c]).i]=h.x(u);return l.join("")})}var Ei=180/Math.PI,vl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gl(e,t,n,o,r,i){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Ei,skewX:Math.atan(s)*Ei,scaleX:a,scaleY:l}}var mn;function ng(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vl:gl(t.a,t.b,t.c,t.d,t.e,t.f)}function og(e){return e==null||(mn||(mn=document.createElementNS("http://www.w3.org/2000/svg","g")),mn.setAttribute("transform",e),!(e=mn.transform.baseVal.consolidate()))?vl:(e=e.matrix,gl(e.a,e.b,e.c,e.d,e.e,e.f))}function ml(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function i(u,c,h,d,p,b){if(u!==h||c!==d){var m=p.push("translate(",null,t,null,n);b.push({i:m-4,x:Ge(u,h)},{i:m-2,x:Ge(c,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function a(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(r(h)+"rotate(",null,o)-2,x:Ge(u,c)})):c&&h.push(r(h)+"rotate("+c+o)}function l(u,c,h,d){u!==c?d.push({i:h.push(r(h)+"skewX(",null,o)-2,x:Ge(u,c)}):c&&h.push(r(h)+"skewX("+c+o)}function s(u,c,h,d,p,b){if(u!==h||c!==d){var m=p.push(r(p)+"scale(",null,",",null,")");b.push({i:m-4,x:Ge(u,h)},{i:m-2,x:Ge(c,d)})}else(h!==1||d!==1)&&p.push(r(p)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,h,d),a(u.rotate,c.rotate,h,d),l(u.skewX,c.skewX,h,d),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(p){for(var b=-1,m=d.length,k;++b<m;)h[(k=d[b]).i]=k.x(p);return h.join("")}}}var rg=ml(ng,"px, ","px)","deg)"),ig=ml(og,", ",")",")"),ag=1e-12;function Ni(e){return((e=Math.exp(e))+1/e)/2}function lg(e){return((e=Math.exp(e))-1/e)/2}function sg(e){return((e=Math.exp(2*e))-1)/(e+1)}const ug=function e(t,n,o){function r(i,a){var l=i[0],s=i[1],u=i[2],c=a[0],h=a[1],d=a[2],p=c-l,b=h-s,m=p*p+b*b,k,g;if(m<ag)g=Math.log(d/u)/t,k=function(T){return[l+T*p,s+T*b,u*Math.exp(t*T*g)]};else{var B=Math.sqrt(m),C=(d*d-u*u+o*m)/(2*u*n*B),_=(d*d-u*u-o*m)/(2*d*n*B),I=Math.log(Math.sqrt(C*C+1)-C),w=Math.log(Math.sqrt(_*_+1)-_);g=(w-I)/t,k=function(T){var V=T*g,A=Ni(I),L=u/(n*B)*(A*sg(t*V+I)-lg(I));return[l+L*p,s+L*b,u*A/Ni(t*V+I)]}}return k.duration=g*1e3*t/Math.SQRT2,k}return r.rho=function(i){var a=Math.max(.001,+i),l=a*a,s=l*l;return e(a,l,s)},r}(Math.SQRT2,2,4);var zt=0,Lt=0,It=0,yl=1e3,Hn,Rt,jn=0,gt=0,oo=0,Qt=typeof performance=="object"&&performance.now?performance:Date,wl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mr(){return gt||(wl(cg),gt=Qt.now()+oo)}function cg(){gt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=_l.prototype={constructor:Fn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?mr():+n)+(t==null?0:+t),!this._next&&Rt!==this&&(Rt?Rt._next=this:Hn=this,Rt=this),this._call=e,this._time=n,Lo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lo())}};function _l(e,t,n){var o=new Fn;return o.restart(e,t,n),o}function dg(){mr(),++zt;for(var e=Hn,t;e;)(t=gt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zt}function Si(){gt=(jn=Qt.now())+oo,zt=Lt=0;try{dg()}finally{zt=0,fg(),gt=0}}function hg(){var e=Qt.now(),t=e-jn;t>yl&&(oo-=t,jn=e)}function fg(){for(var e,t=Hn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Hn=n);Rt=e,Lo(o)}function Lo(e){if(!zt){Lt&&(Lt=clearTimeout(Lt));var t=e-gt;t>24?(e<1/0&&(Lt=setTimeout(Si,e-Qt.now()-oo)),It&&(It=clearInterval(It))):(It||(jn=Qt.now(),It=setInterval(hg,yl)),zt=1,wl(Si))}}function Mi(e,t,n){var o=new Fn;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var pg=fr("start","end","cancel","interrupt"),vg=[],bl=0,Ci=1,Ro=2,En=3,zi=4,Yo=5,Nn=6;function ro(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;gg(e,n,{name:t,index:o,group:r,on:pg,tween:vg,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:bl})}function yr(e,t){var n=ze(e,t);if(n.state>bl)throw new Error("too late; already scheduled");return n}function Ve(e,t){var n=ze(e,t);if(n.state>En)throw new Error("too late; already running");return n}function ze(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gg(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=_l(i,0,n.time);function i(u){n.state=Ci,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,d,p;if(n.state!==Ci)return s();for(c in o)if(p=o[c],p.name===n.name){if(p.state===En)return Mi(a);p.state===zi?(p.state=Nn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[c]):+c<t&&(p.state=Nn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[c])}if(Mi(function(){n.state===En&&(n.state=zi,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ro,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ro){for(n.state=En,r=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Yo,1),h=-1,d=r.length;++h<d;)r[h].call(e,c);n.state===Yo&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Nn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Sn(e,t){var n=e.__transition,o,r,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>Ro&&o.state<Yo,o.state=Nn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function mg(e){return this.each(function(){Sn(this,e)})}function yg(e,t){var n,o;return function(){var r=Ve(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function wg(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Ve(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},s=0,u=r.length;s<u;++s)if(r[s].name===t){r[s]=l;break}s===u&&r.push(l)}i.tween=r}}function _g(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=ze(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?yg:wg)(n,e,t))}function wr(e,t,n){var o=e._id;return e.each(function(){var r=Ve(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return ze(r,o).value[t]}}function xl(e,t){var n;return(typeof t=="number"?Ge:t instanceof Kt?ki:(n=Kt(t))?(t=n,ki):tg)(e,t)}function bg(e){return function(){this.removeAttribute(e)}}function xg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $g(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function kg(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Eg(e,t,n){var o,r,i;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===r?i:(r=s,i=t(o=a,l)))}}function Ng(e,t,n){var o,r,i;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===r?i:(r=s,i=t(o=a,l)))}}function Sg(e,t){var n=no(e),o=n==="transform"?ig:xl;return this.attrTween(e,typeof t=="function"?(n.local?Ng:Eg)(n,o,wr(this,"attr."+e,t)):t==null?(n.local?xg:bg)(n):(n.local?kg:$g)(n,o,t))}function Mg(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Cg(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function zg(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Cg(e,i)),n}return r._value=t,r}function Ag(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Mg(e,i)),n}return r._value=t,r}function Pg(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=no(e);return this.tween(n,(o.local?zg:Ag)(o,t))}function Og(e,t){return function(){yr(this,e).delay=+t.apply(this,arguments)}}function Ig(e,t){return t=+t,function(){yr(this,e).delay=t}}function Bg(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Og:Ig)(t,e)):ze(this.node(),t).delay}function Tg(e,t){return function(){Ve(this,e).duration=+t.apply(this,arguments)}}function Vg(e,t){return t=+t,function(){Ve(this,e).duration=t}}function Dg(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tg:Vg)(t,e)):ze(this.node(),t).duration}function Lg(e,t){if(typeof t!="function")throw new Error;return function(){Ve(this,e).ease=t}}function Rg(e){var t=this._id;return arguments.length?this.each(Lg(t,e)):ze(this.node(),t).ease}function Yg(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ve(this,e).ease=n}}function Xg(e){if(typeof e!="function")throw new Error;return this.each(Yg(this._id,e))}function Hg(e){typeof e!="function"&&(e=tl(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=o[r]=[],s,u=0;u<a;++u)(s=i[u])&&e.call(s,s.__data__,u,i)&&l.push(s);return new We(o,this._parents,this._name,this._id)}function jg(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var s=t[l],u=n[l],c=s.length,h=a[l]=new Array(c),d,p=0;p<c;++p)(d=s[p]||u[p])&&(h[p]=d);for(;l<o;++l)a[l]=t[l];return new We(a,this._parents,this._name,this._id)}function Fg(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ug(e,t,n){var o,r,i=Fg(t)?yr:Ve;return function(){var a=i(this,e),l=a.on;l!==o&&(r=(o=l).copy()).on(t,n),a.on=r}}function Wg(e,t){var n=this._id;return arguments.length<2?ze(this.node(),n).on.on(e):this.each(Ug(n,e,t))}function qg(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Zg(){return this.on("end.remove",qg(this._id))}function Gg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pr(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var l=o[a],s=l.length,u=i[a]=new Array(s),c,h,d=0;d<s;++d)(c=l[d])&&(h=e.call(c,c.__data__,d,l))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,ro(u[d],t,n,d,u,ze(c,n)));return new We(i,this._parents,t,n)}function Kg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=el(e));for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var s=o[l],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var d=e.call(c,c.__data__,h,s),p,b=ze(c,n),m=0,k=d.length;m<k;++m)(p=d[m])&&ro(p,t,n,m,d,b);i.push(d),a.push(c)}return new We(i,a,t,n)}var Qg=an.prototype.constructor;function Jg(){return new Qg(this._groups,this._parents)}function e0(e,t){var n,o,r;return function(){var i=Ct(this,e),a=(this.style.removeProperty(e),Ct(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function $l(e){return function(){this.style.removeProperty(e)}}function t0(e,t,n){var o,r=n+"",i;return function(){var a=Ct(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function n0(e,t,n){var o,r,i;return function(){var a=Ct(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Ct(this,e))),a===s?null:a===o&&s===r?i:(r=s,i=t(o=a,l))}}function o0(e,t){var n,o,r,i="style."+t,a="end."+i,l;return function(){var s=Ve(this,e),u=s.on,c=s.value[i]==null?l||(l=$l(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(a,r=c),s.on=o}}function r0(e,t,n){var o=(e+="")=="transform"?rg:xl;return t==null?this.styleTween(e,e0(e,o)).on("end.style."+e,$l(e)):typeof t=="function"?this.styleTween(e,n0(e,o,wr(this,"style."+e,t))).each(o0(this._id,e)):this.styleTween(e,t0(e,o,t),n).on("end.style."+e,null)}function i0(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function a0(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&i0(e,a,n)),o}return i._value=t,i}function l0(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,a0(e,t,n??""))}function s0(e){return function(){this.textContent=e}}function u0(e){return function(){var t=e(this);this.textContent=t??""}}function c0(e){return this.tween("text",typeof e=="function"?u0(wr(this,"text",e)):s0(e==null?"":e+""))}function d0(e){return function(t){this.textContent=e.call(this,t)}}function h0(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&d0(r)),t}return o._value=e,o}function f0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,h0(e))}function p0(){for(var e=this._name,t=this._id,n=kl(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var c=ze(s,t);ro(s,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new We(o,this._parents,e,n)}function v0(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){--r===0&&i()}};n.each(function(){var u=Ve(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),r===0&&i()})}var g0=0;function We(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function kl(){return++g0}var Re=an.prototype;We.prototype={constructor:We,select:Gg,selectAll:Kg,selectChild:Re.selectChild,selectChildren:Re.selectChildren,filter:Hg,merge:jg,selection:Jg,transition:p0,call:Re.call,nodes:Re.nodes,node:Re.node,size:Re.size,empty:Re.empty,each:Re.each,on:Wg,attr:Sg,attrTween:Pg,style:r0,styleTween:l0,text:c0,textTween:f0,remove:Zg,tween:_g,delay:Bg,duration:Dg,ease:Rg,easeVarying:Xg,end:v0,[Symbol.iterator]:Re[Symbol.iterator]};function m0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var y0={time:null,delay:0,duration:250,ease:m0};function w0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _0(e){var t,n;e instanceof We?(t=e._id,e=e._name):(t=kl(),(n=y0).time=mr(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],l=a.length,s,u=0;u<l;++u)(s=a[u])&&ro(s,e,t,u,a,n||w0(s,t));return new We(o,this._parents,e,t)}an.prototype.interrupt=mg;an.prototype.transition=_0;const yn=e=>()=>e;function b0(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function je(e,t,n){this.k=e,this.x=t,this.y=n}je.prototype={constructor:je,scale:function(e){return e===1?this:new je(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new je(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _r=new je(1,0,0);je.prototype;function _o(e){e.stopImmediatePropagation()}function Bt(e){e.preventDefault(),e.stopImmediatePropagation()}function x0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function $0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ai(){return this.__zoom||_r}function k0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function E0(){return navigator.maxTouchPoints||"ontouchstart"in this}function N0(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function S0(){var e=x0,t=$0,n=N0,o=k0,r=E0,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,s=ug,u=fr("start","zoom","end"),c,h,d,p=500,b=150,m=0,k=10;function g(f){f.property("__zoom",Ai).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",L).filter(r).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(f,S,v,$){var M=f.selection?f.selection():f;M.property("__zoom",Ai),f!==M?I(f,S,v,$):M.interrupt().each(function(){w(this,arguments).event($).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},g.scaleBy=function(f,S,v,$){g.scaleTo(f,function(){var M=this.__zoom.k,x=typeof S=="function"?S.apply(this,arguments):S;return M*x},v,$)},g.scaleTo=function(f,S,v,$){g.transform(f,function(){var M=t.apply(this,arguments),x=this.__zoom,E=v==null?_(M):typeof v=="function"?v.apply(this,arguments):v,D=x.invert(E),X=typeof S=="function"?S.apply(this,arguments):S;return n(C(B(x,X),E,D),M,a)},v,$)},g.translateBy=function(f,S,v,$){g.transform(f,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),a)},null,$)},g.translateTo=function(f,S,v,$,M){g.transform(f,function(){var x=t.apply(this,arguments),E=this.__zoom,D=$==null?_(x):typeof $=="function"?$.apply(this,arguments):$;return n(_r.translate(D[0],D[1]).scale(E.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof v=="function"?-v.apply(this,arguments):-v),x,a)},$,M)};function B(f,S){return S=Math.max(i[0],Math.min(i[1],S)),S===f.k?f:new je(S,f.x,f.y)}function C(f,S,v){var $=S[0]-v[0]*f.k,M=S[1]-v[1]*f.k;return $===f.x&&M===f.y?f:new je(f.k,$,M)}function _(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function I(f,S,v,$){f.on("start.zoom",function(){w(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event($).end()}).tween("zoom",function(){var M=this,x=arguments,E=w(M,x).event($),D=t.apply(M,x),X=v==null?_(D):typeof v=="function"?v.apply(M,x):v,te=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),P=M.__zoom,U=typeof S=="function"?S.apply(M,x):S,y=s(P.invert(X).concat(te/P.k),U.invert(X).concat(te/U.k));return function(O){if(O===1)O=U;else{var R=y(O),Y=te/R[2];O=new je(Y,X[0]-R[0]*Y,X[1]-R[1]*Y)}E.zoom(null,O)}})}function w(f,S,v){return!v&&f.__zooming||new T(f,S)}function T(f,S){this.that=f,this.args=S,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,S),this.taps=0}T.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,S){return this.mouse&&f!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var S=Qe(this.that).datum();u.call(f,this.that,new b0(f,{sourceEvent:this.sourceEvent,target:g,type:f,transform:this.that.__zoom,dispatch:u}),S)}};function V(f,...S){if(!e.apply(this,arguments))return;var v=w(this,S).event(f),$=this.__zoom,M=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,o.apply(this,arguments)))),x=qe(f);if(v.wheel)(v.mouse[0][0]!==x[0]||v.mouse[0][1]!==x[1])&&(v.mouse[1]=$.invert(v.mouse[0]=x)),clearTimeout(v.wheel);else{if($.k===M)return;v.mouse=[x,$.invert(x)],Sn(this),v.start()}Bt(f),v.wheel=setTimeout(E,b),v.zoom("mouse",n(C(B($,M),v.mouse[0],v.mouse[1]),v.extent,a));function E(){v.wheel=null,v.end()}}function A(f,...S){if(d||!e.apply(this,arguments))return;var v=f.currentTarget,$=w(this,S,!0).event(f),M=Qe(f.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",te,!0),x=qe(f,v),E=f.clientX,D=f.clientY;Tv(f.view),_o(f),$.mouse=[x,this.__zoom.invert(x)],Sn(this),$.start();function X(P){if(Bt(P),!$.moved){var U=P.clientX-E,y=P.clientY-D;$.moved=U*U+y*y>m}$.event(P).zoom("mouse",n(C($.that.__zoom,$.mouse[0]=qe(P,v),$.mouse[1]),$.extent,a))}function te(P){M.on("mousemove.zoom mouseup.zoom",null),Vv(P.view,$.moved),Bt(P),$.event(P).end()}}function L(f,...S){if(e.apply(this,arguments)){var v=this.__zoom,$=qe(f.changedTouches?f.changedTouches[0]:f,this),M=v.invert($),x=v.k*(f.shiftKey?.5:2),E=n(C(B(v,x),$,M),t.apply(this,S),a);Bt(f),l>0?Qe(this).transition().duration(l).call(I,E,$,f):Qe(this).call(g.transform,E,$,f)}}function F(f,...S){if(e.apply(this,arguments)){var v=f.touches,$=v.length,M=w(this,S,f.changedTouches.length===$).event(f),x,E,D,X;for(_o(f),E=0;E<$;++E)D=v[E],X=qe(D,this),X=[X,this.__zoom.invert(X),D.identifier],M.touch0?!M.touch1&&M.touch0[2]!==X[2]&&(M.touch1=X,M.taps=0):(M.touch0=X,x=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),x&&(M.taps<2&&(h=X[0],c=setTimeout(function(){c=null},p)),Sn(this),M.start())}}function W(f,...S){if(this.__zooming){var v=w(this,S).event(f),$=f.changedTouches,M=$.length,x,E,D,X;for(Bt(f),x=0;x<M;++x)E=$[x],D=qe(E,this),v.touch0&&v.touch0[2]===E.identifier?v.touch0[0]=D:v.touch1&&v.touch1[2]===E.identifier&&(v.touch1[0]=D);if(E=v.that.__zoom,v.touch1){var te=v.touch0[0],P=v.touch0[1],U=v.touch1[0],y=v.touch1[1],O=(O=U[0]-te[0])*O+(O=U[1]-te[1])*O,R=(R=y[0]-P[0])*R+(R=y[1]-P[1])*R;E=B(E,Math.sqrt(O/R)),D=[(te[0]+U[0])/2,(te[1]+U[1])/2],X=[(P[0]+y[0])/2,(P[1]+y[1])/2]}else if(v.touch0)D=v.touch0[0],X=v.touch0[1];else return;v.zoom("touch",n(C(E,D,X),v.extent,a))}}function ee(f,...S){if(this.__zooming){var v=w(this,S).event(f),$=f.changedTouches,M=$.length,x,E;for(_o(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),x=0;x<M;++x)E=$[x],v.touch0&&v.touch0[2]===E.identifier?delete v.touch0:v.touch1&&v.touch1[2]===E.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(E=qe(E,this),Math.hypot(h[0]-E[0],h[1]-E[1])<k)){var D=Qe(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return g.wheelDelta=function(f){return arguments.length?(o=typeof f=="function"?f:yn(+f),g):o},g.filter=function(f){return arguments.length?(e=typeof f=="function"?f:yn(!!f),g):e},g.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:yn(!!f),g):r},g.extent=function(f){return arguments.length?(t=typeof f=="function"?f:yn([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),g):t},g.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],g):[i[0],i[1]]},g.translateExtent=function(f){return arguments.length?(a[0][0]=+f[0][0],a[1][0]=+f[1][0],a[0][1]=+f[0][1],a[1][1]=+f[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(f){return arguments.length?(n=f,g):n},g.duration=function(f){return arguments.length?(l=+f,g):l},g.interpolate=function(f){return arguments.length?(s=f,g):s},g.on=function(){var f=u.on.apply(u,arguments);return f===u?g:f},g.clickDistance=function(f){return arguments.length?(m=(f=+f)*f,g):Math.sqrt(m)},g.tapDistance=function(f){return arguments.length?(k=+f,g):k},g}const El=Symbol("MiniMapSlots"),M0=de({name:"MiniMapNode",props:["id","position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering","type"],emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{attrs:t,emit:n}){const o=ot(El);return()=>{var r;const i=(r=t.style)!=null?r:{},a=o[`node-${e.type}`];return a?a(e):pe("rect",{id:e.id,class:["vue-flow__minimap-node",t.class].join(" "),style:i,x:e.position.x,y:e.position.y,rx:e.borderRadius,ry:e.borderRadius,width:e.dimensions.width,height:e.dimensions.height,fill:e.color||i.background||i.backgroundColor,stroke:e.strokeColor,strokeWidth:e.strokeWidth,shapeRendering:e.shapeRendering,onClick:l=>n("click",l),onDblClick:l=>n("dblclick",l),onMouseenter:l=>n("mouseenter",l),onMousemove:l=>n("mousemove",l),onMouseleave:l=>n("mouseleave",l)})}}}),C0=["width","height","viewBox","aria-labelledby"],z0=["id"],A0=["d","fill","stroke","stroke-width"],P0={name:"MiniMap"},O0=de({...P0,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:null,nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:()=>"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:null,height:null},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=Xl(),o=200,r=150,{id:i,edges:a,viewport:l,translateExtent:s,dimensions:u,emits:c,nodes:h,d3Selection:d,d3Zoom:p}=se(),b=ne();ft(El,ji());const m=Z(()=>{var $,M,x;return(x=(M=e.width)!=null?M:($=n.style)==null?void 0:$.width)!=null?x:o}),k=Z(()=>{var $,M,x;return(x=(M=e.height)!=null?M:($=n.style)==null?void 0:$.height)!=null?x:r}),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",B=Z(()=>e.nodeColor instanceof Function?e.nodeColor:()=>e.nodeColor),C=Z(()=>e.nodeStrokeColor instanceof Function?e.nodeStrokeColor:()=>e.nodeStrokeColor),_=Z(()=>e.nodeClassName instanceof Function?e.nodeClassName:()=>e.nodeClassName),I=Z(()=>Zn(h.value)),w=Z(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:u.value.width/l.value.zoom,height:u.value.height/l.value.zoom})),T=Z(()=>h.value&&h.value.length?Is(I.value,w.value):w.value),V=Z(()=>{const $=T.value.width/m.value,M=T.value.height/k.value;return Math.max($,M)}),A=Z(()=>{const $=V.value*m.value,M=V.value*k.value,x=5*V.value;return{offset:x,x:T.value.x-($-T.value.width)/2-x,y:T.value.y-(M-T.value.height)/2-x,width:$+x*2,height:M+x*2}}),L=Z(()=>!A.value.x||!A.value.y?"":`
    M${A.value.x-A.value.offset},${A.value.y-A.value.offset}
    h${A.value.width+A.value.offset*2}
    v${A.value.height+A.value.offset*2}
    h${-A.value.width-A.value.offset*2}z
    M${w.value.x},${w.value.y}
    h${w.value.width}
    v${w.value.height}
    h${-w.value.width}z`);Ho($=>{if(b.value){const M=Qe(b.value),x=X=>{if(X.sourceEvent.type!=="wheel"||!d.value||!p.value)return;const te=-X.sourceEvent.deltaY*(X.sourceEvent.deltaMode===1?.05:X.sourceEvent.deltaMode?1:.002)*10,P=l.value.zoom*2**te;p.value.scaleTo(d.value,P)},E=X=>{if(X.sourceEvent.type!=="mousemove"||!d.value||!p.value)return;const te={x:l.value.x-X.sourceEvent.movementX*V.value*Math.max(1,l.value.zoom),y:l.value.y-X.sourceEvent.movementY*V.value*Math.max(1,l.value.zoom)},P=[[0,0],[u.value.width,u.value.height]],U=_r.translate(te.x,te.y).scale(l.value.zoom),y=p.value.constrain()(U,P,s.value);p.value.transform(d.value,y)},D=S0().on("zoom",e.pannable?E:()=>{}).on("zoom.wheel",e.zoomable?x:()=>{});M.call(D),$(()=>{M.on("zoom",null)})}},{flush:"post"});const F=$=>{const[M,x]=qe($);t("click",{event:$,position:{x:M,y:x}})},W=($,M)=>{const x={event:$,node:M,connectedEdges:Xe([M],a.value)};c.miniMapNodeClick(x),t("nodeClick",x)},ee=($,M)=>{const x={event:$,node:M,connectedEdges:Xe([M],a.value)};c.miniMapNodeDoubleClick(x),t("nodeDblclick",x)},f=($,M)=>{const x={event:$,node:M,connectedEdges:Xe([M],a.value)};c.miniMapNodeMouseEnter(x),t("nodeMouseenter",x)},S=($,M)=>{const x={event:$,node:M,connectedEdges:Xe([M],a.value)};c.miniMapNodeMouseMove(x),t("nodeMousemove",x)},v=($,M)=>{const x={event:$,node:M,connectedEdges:Xe([M],a.value)};c.miniMapNodeMouseLeave(x),t("nodeMouseleave",x)};return($,M)=>(H(),ue(N(Qa),{position:e.position,class:Me(["vue-flow__minimap",{pannable:e.pannable,zoomable:e.zoomable}])},{default:ae(()=>[(H(),K("svg",{ref_key:"el",ref:b,width:N(m),height:N(k),viewBox:[N(A).x,N(A).y,N(A).width,N(A).height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${N(i)}`,onClick:F},[ce("title",{id:`vue-flow__minimap-${N(i)}`},"Vue Flow mini map "+Et(N(i)),9,z0),(H(!0),K(ye,null,Ie(N(h),x=>(H(),ue(N(M0),{id:x.id,key:x.id,position:x.computedPosition,dimensions:x.dimensions,style:be(x.style),class:Me(N(_)(x)),color:N(B)(x),"border-radius":e.nodeBorderRadius,"stroke-color":N(C)(x),"stroke-width":e.nodeStrokeWidth,"shape-rendering":N(g),type:x.type,onClick:E=>W(E,x),onDblclick:E=>ee(E,x),onMouseenter:E=>f(E,x),onMousemove:E=>S(E,x),onMouseleave:E=>v(E,x)},null,8,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),ce("path",{class:"vue-flow__minimap-mask",d:N(L),fill:e.maskColor,stroke:e.maskStrokeColor,"stroke-width":e.maskStrokeWidth,"fill-rule":"evenodd"},null,8,A0)],8,C0))]),_:1},8,["position","class"]))}}),I0={name:"ControlButton"},B0=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},T0={class:"vue-flow__controls-button"};function V0(e,t,n,o,r,i){return H(),K("button",T0,[le(e.$slots,"default")])}const wn=B0(I0,[["render",V0]]),D0={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},L0=ce("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),R0=[L0];function Y0(e,t){return H(),K("svg",D0,R0)}const X0={render:Y0},H0={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},j0=ce("path",{d:"M0 0h32v4.2H0z"},null,-1),F0=[j0];function U0(e,t){return H(),K("svg",H0,F0)}const W0={render:U0},q0={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Z0=ce("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),G0=[Z0];function K0(e,t){return H(),K("svg",q0,G0)}const Q0={render:K0},J0={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},em=ce("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),tm=[em];function nm(e,t){return H(),K("svg",J0,tm)}const om={render:nm},rm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},im=ce("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),am=[im];function lm(e,t){return H(),K("svg",rm,am)}const sm={render:lm},um={name:"Controls"},cm=de({...um,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null,position:{default:()=>"bottom-left"}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const n=se(),o=z(n,"nodesDraggable"),r=z(n,"nodesConnectable"),i=z(n,"elementsSelectable"),a=z(n,"setInteractive"),l=z(n,"zoomIn"),s=z(n,"zoomOut"),u=z(n,"fitView"),c=Z(()=>o.value&&r.value&&i.value),h=()=>{l.value(),t("zoomIn")},d=()=>{s.value(),t("zoomOut")},p=()=>{u.value(e.fitViewParams),t("fitView")},b=()=>{a.value(!c.value),t("interactionChange",!c.value)};return(m,k)=>(H(),ue(N(Qa),{class:"vue-flow__controls",position:e.position},{default:ae(()=>[le(m.$slots,"top"),e.showZoom?(H(),K(ye,{key:0},[le(m.$slots,"control-zoom-in",{},()=>[ie(wn,{class:"vue-flow__controls-zoomin",onClick:h},{default:ae(()=>[le(m.$slots,"icon-zoom-in",{},()=>[(H(),ue(Ke(N(X0))))])]),_:3})]),le(m.$slots,"control-zoom-out",{},()=>[ie(wn,{class:"vue-flow__controls-zoomout",onClick:d},{default:ae(()=>[le(m.$slots,"icon-zoom-out",{},()=>[(H(),ue(Ke(N(W0))))])]),_:3})])],64)):fe("",!0),e.showFitView?le(m.$slots,"control-fit-view",{key:1},()=>[ie(wn,{class:"vue-flow__controls-fitview",onClick:p},{default:ae(()=>[le(m.$slots,"icon-fit-view",{},()=>[(H(),ue(Ke(N(Q0))))])]),_:3})]):fe("",!0),e.showInteractive?le(m.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(H(),ue(wn,{key:0,class:"vue-flow__controls-interactive",onClick:b},{default:ae(()=>[N(c)?le(m.$slots,"icon-unlock",{key:0},()=>[(H(),ue(Ke(N(sm))))]):fe("",!0),N(c)?fe("",!0):le(m.$slots,"icon-lock",{key:1},()=>[(H(),ue(Ke(N(om))))])]),_:3})):fe("",!0)]):fe("",!0),le(m.$slots,"default")]),_:3},8,["position"]))}}),dm={name:"NodeToolbar",inheritAttrs:!1},hm=de({...dm,props:{nodeId:null,isVisible:{type:Boolean},position:{default:G.Top},offset:{default:10}},setup(e){const t=e,n=ot(Go,null),{viewportRef:o,viewport:r,getSelectedNodes:i,findNode:a}=se();function l(p,b,m,k){let g=(p.x+p.width/2)*b.zoom+b.x,B=p.y*b.zoom+b.y-k,C=-50,_=-100;switch(m){case G.Right:g=(p.x+p.width)*b.zoom+b.x+k,B=(p.y+p.height/2)*b.zoom+b.y,C=0,_=-50;break;case G.Bottom:B=(p.y+p.height)*b.zoom+b.y+k,_=0;break;case G.Left:g=p.x*b.zoom+b.x-k,B=(p.y+p.height/2)*b.zoom+b.y,C=-100,_=-50;break}return`translate(${g}px, ${B}px) translate(${C}%, ${_}%)`}const s=Z(()=>(Array.isArray(t.nodeId)?t.nodeId:[t.nodeId||n||""]).reduce((p,b)=>{const m=a(b);return m&&p.push(m),p},[])),u=Z(()=>typeof t.isVisible=="boolean"?t.isVisible:s.value.length===1&&s.value[0].selected&&i.value.length===1),c=Z(()=>Zn(s.value)),h=Z(()=>Math.max(...s.value.map(p=>(p.computedPosition.z||1)+1))),d=Z(()=>({position:"absolute",transform:l(c.value,r.value,t.position,t.offset),zIndex:h.value}));return(p,b)=>(H(),ue(Hi,{to:N(o),disabled:!N(o)},[N(u)&&N(s).length?(H(),K("div",jo({key:0},p.$attrs,{style:N(d),class:"vue-flow__node-toolbar"}),[le(p.$slots,"default")],16)):fe("",!0)],8,["to","disabled"]))}}),fm={class:"operator"},pm=de({__name:"CustomNode",props:{id:null,label:null,toolbar:null},setup(e){const t=e,{removeNodes:n}=se();return(o,r)=>{const i=Un,a=Ri;return H(),K("div",null,[ie(N(hm),{"is-visible":e.toolbar.visible,position:e.toolbar.position},{default:ae(()=>[ie(i,{class:"button-margin",preset:"secondary",onClick:r[0]||(r[0]=l=>N(n)([e.id]))},{default:ae(()=>[nt("삭제")]),_:1})]),_:1},8,["is-visible","position"]),ce("div",fm,[ce("fieldset",null,[ie(a,{label:"Operator Label",modelValue:t.label,"onUpdate:modelValue":r[1]||(r[1]=l=>t.label=l),background:"#dfdfdf",readonly:""},null,8,["modelValue"])])]),ie(N(tt),{type:"target",position:N(G).Top},null,8,["position"]),ie(N(tt),{type:"source",position:N(G).Left},null,8,["position"]),ie(N(tt),{type:"source",position:N(G).Bottom},null,8,["position"]),ie(N(tt),{type:"target",position:N(G).Right},null,8,["position"])])}}});var Pi;const Nl=typeof window<"u",vm=e=>typeof e=="string",gm=()=>{};Nl&&((Pi=window==null?void 0:window.navigator)!=null&&Pi.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Sl(e){return typeof e=="function"?e():N(e)}function mm(e){return e}function ym(e){return Xo()?(Yt(e),!0):!1}function wm(e){var t;const n=Sl(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Ml=Nl?window:void 0;function _m(...e){let t,n,o,r;if(vm(e[0])||Array.isArray(e[0])?([n,o,r]=e,t=Ml):[t,n,o,r]=e,!t)return gm;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},l=(c,h,d,p)=>(c.addEventListener(h,d,p),()=>c.removeEventListener(h,d,p)),s=ve(()=>[wm(t),Sl(r)],([c,h])=>{a(),c&&i.push(...n.flatMap(d=>o.map(p=>l(c,d,p,h))))},{immediate:!0,flush:"post"}),u=()=>{s(),a()};return ym(u),u}var bm=Object.defineProperty,xm=Object.defineProperties,$m=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertySymbols,km=Object.prototype.hasOwnProperty,Em=Object.prototype.propertyIsEnumerable,Ii=(e,t,n)=>t in e?bm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nm=(e,t)=>{for(var n in t||(t={}))km.call(t,n)&&Ii(e,n,t[n]);if(Oi)for(var n of Oi(t))Em.call(t,n)&&Ii(e,n,t[n]);return e},Sm=(e,t)=>xm(e,$m(t));const Mm=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function Cm(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Ml,eventName:i="keydown",passive:a=!1}=o,l=Mm(t);return _m(r,i,u=>{l(u)&&n(u)},a)}function zm(e,t,n={}){return Cm(e,t,Sm(Nm({},n),{eventName:"keyup"}))}const Bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ti="__vueuse_ssr_handlers__";Bi[Ti]=Bi[Ti]||{};var Vi;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Vi||(Vi={}));var Am=Object.defineProperty,Di=Object.getOwnPropertySymbols,Pm=Object.prototype.hasOwnProperty,Om=Object.prototype.propertyIsEnumerable,Li=(e,t,n)=>t in e?Am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Im=(e,t)=>{for(var n in t||(t={}))Pm.call(t,n)&&Li(e,n,t[n]);if(Di)for(var n of Di(t))Om.call(t,n)&&Li(e,n,t[n]);return e};const Bm={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Im({linear:mm},Bm);const Tm=de({__name:"CustomEdge",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},data:{type:Object,required:!1},markerEnd:{type:String,required:!1},style:{type:Object,required:!1}},setup(e){const t=e,{removeEdges:n,onEdgeClick:o,findEdge:r}=se(),i=Z(()=>or(t));ne(!1);const a=ne("");return o(l=>{a.value=l.edge.id}),zm(l=>{var s;l.key==="Delete"&&((s=r(a.value))!=null&&s.selected)&&n([a.value])}),(l,s)=>{const u=Un;return H(),K(ye,null,[ie(N(on),{id:e.id,style:be(e.style),path:N(i)[0],"marker-end":e.markerEnd},null,8,["id","style","path","marker-end"]),ie(N(fd),null,{default:ae(()=>{var c;return[ce("div",{style:be({pointerEvents:"all",position:"absolute",transform:`translate(-50%, -50%) translate(${N(i)[1]}px,${N(i)[2]}px)`}),class:"nodrag nopan"},[(c=N(r)(N(a)))!=null&&c.selected?(H(),ue(u,{key:0,preset:"secondary",onClick:s[0]||(s[0]=h=>N(n)([e.id]))},{default:ae(()=>[nt("삭제")]),_:1})):fe("",!0)],4)]}),_:1})],64)}}}),Cl=ne({}),Vm=e=>{Cl.value=e},Dm=()=>Cl.value,Lm=e=>({id:"dndedge_"+new Date().getTime(),source:e.source,sourceHandle:e.sourceHandle,target:e.target,targetHandle:e.targetHandle,type:"custom",data:{text:"TEST"},markerEnd:ua.ArrowClosed}),Rm=(e,t)=>({operatorLabel:e+"."+t.operatorName,operatorName:t.operatorName,operatorAttributes:JSON.stringify(t.attributes)});class Ym{constructor(){De(this,"useAttributes",ne(!1));De(this,"useAttributesAlert",ne(!1));De(this,"attributesOn",()=>{this.useAttributes.value=!0});De(this,"attributesOff",()=>{this.useAttributes.value=!1});De(this,"attributesState",()=>!!this.useAttributes.value);De(this,"warningAlertOn",()=>{this.useAttributesAlert.value=!0});De(this,"warningAlertOff",()=>{this.useAttributesAlert.value=!1});De(this,"warningAlertState",()=>!!this.useAttributesAlert.value)}}const Xm={style:{position:"absolute",width:"18%","min-width":"175px"}},Hm={key:0,style:{width:"90%",position:"relative",display:"inline-block"}},jm=["onDragstart"],Fm=ce("div",{class:"operator-label"},null,-1),Um={class:"operator-node"},Wm={style:{width:"10%",position:"relative","z-index":"10",display:"inline-block"}},qm={style:{width:"10%",position:"absolute",right:"0px"}},Zm={style:{width:"100%",position:"relative","z-index":"10",display:"contents"}},Gm=de({__name:"index",props:{setWorkflowJson:null,operators:null},emits:["toggle-drawer"],setup(e,{emit:t}){const{findNode:n,onConnect:o,addEdges:r,addNodes:i,project:a,vueFlowRef:l,toObject:s}=se(),u=new Ym,c=ne(!0),h={WORKFLOW_SAVE_DATA:"getWorkflowJson"},d=ne([!0,!1]),p=ne("enabled"),b=()=>{t(h.WORKFLOW_SAVE_DATA,s()),u.attributesOff()},m=()=>{u.attributesOff()};o(C=>{let _=Lm(C);r([_]),b()});const k=(C,_,I)=>{if(C.dataTransfer){let w=Rm(_,I);C.dataTransfer.setData("operatorLabel",w.operatorLabel),C.dataTransfer.setData("operatorName",w.operatorName),C.dataTransfer.setData("operatorAttributes",w.operatorAttributes),C.dataTransfer.effectAllowed="move"}},g=C=>{C.preventDefault(),C.dataTransfer&&(C.dataTransfer.dropEffect="move")},B=C=>{var ee,f,S;const _=(ee=C.dataTransfer)==null?void 0:ee.getData("operatorName"),I=(f=C.dataTransfer)==null?void 0:f.getData("operatorLabel"),w=(S=C.dataTransfer)==null?void 0:S.getData("operatorAttributes"),{left:T,top:V}=l.value.getBoundingClientRect(),A=a({x:C.clientX-T,y:C.clientY-V});let L=JSON.parse(w),F={};for(let v in L){let $="";L[v].value&&($=L[v].value),F[v]=$}const W={id:"dndnode_"+new Date().getTime(),position:A,type:"toolbar",operatorName:`${_}`,label:`${I}`,attributes:F,events:{doubleClick:()=>{if(u.attributesState()){u.warningAlertOn(),setTimeout(()=>{u.warningAlertOff()},3e3);return}Vm({operatorName:_,value:F,view:L}),u.attributesOn()}}};i([W]),ct(()=>{const v=n(W.id),$=ve(()=>v.dimensions,M=>{M.width>0&&M.height>0&&(v.position={x:v.position.x-v.dimensions.width/2,y:v.position.y-v.dimensions.height/2},$())},{deep:!0,flush:"post"})}),b()};return(C,_)=>{const I=jl,w=Fl,T=Ul,V=Yi,A=Wl,L=Kl;return H(),K("div",null,[N(u).warningAlertState()?(H(),ue(I,{key:0,id:"alert-warning",color:"#ce6e67"},{default:ae(()=>[nt("수정중인 속성창을 먼저 닫아주세요. ")]),_:1})):fe("",!0),ce("div",{style:{position:"relative",width:"100%",height:"650px"},onDrop:B},[ce("div",Xm,[N(c)?(H(),K("div",Hm,[ie(V,{style:{width:"100%",background:"rgb(0,0,0,0)"}},{default:ae(()=>[ie(T,{modelValue:N(d),"onUpdate:modelValue":_[0]||(_[0]=F=>Fi(d)?d.value=F:null)},{default:ae(()=>[(H(!0),K(ye,null,Ie(C.$props.operators,(F,W)=>(H(),ue(w,{key:W,header:W,"text-color":"textPrimary",color:"textInverted"},{default:ae(()=>[(H(!0),K(ye,null,Ie(F,(ee,f)=>(H(),K("div",{key:ee,class:"operator-list vue-flow__node-default",draggable:!0,onDragstart:S=>k(S,W,ee),style:{"text-align":"center",border:"#efefef solid 1px"}},[Fm,ce("div",Um,Et(ee.operatorName),1)],40,jm))),128))]),_:2},1032,["header"]))),128))]),_:1},8,["modelValue"])]),_:1})])):fe("",!0),ce("div",Wm,[N(c)?(H(),ue(A,{key:0,name:"menu_open",size:"3em",style:{"line-height":"0px",height:"0px"},onClick:_[1]||(_[1]=F=>c.value=!N(c))})):fe("",!0),N(c)?fe("",!0):(H(),ue(A,{key:1,name:"menu",size:"3em",style:{"line-height":"0px",height:"0px","margin-top":"27px"},onClick:_[2]||(_[2]=F=>c.value=!N(c))}))])]),ce("div",qm,[N(u).attributesState()?(H(),ue(L,{key:0,enabled:N(p),operatorAttributes:Dm(),onSaveBtn:_[3]||(_[3]=F=>b()),onCloseBtn:_[4]||(_[4]=F=>m()),style:{float:"right",height:"100%"}},null,8,["enabled","operatorAttributes"])):fe("",!0)]),ce("div",Zm,[ie(N(Ff),{modelValue:C.$props.setWorkflowJson,"onUpdate:modelValue":_[5]||(_[5]=F=>C.$props.setWorkflowJson=F),"fit-view-on-init":"",onDragover:g,class:"vue-flow-basic-example",style:{width:"100%",height:"100%"}},{"node-toolbar":ae(F=>[ie(pm,{id:F.id,label:F.label,toolbar:F},null,8,["id","label","toolbar"])]),"edge-custom":ae(F=>[ie(Tm,Ui(Hl(F)),null,16)]),default:ae(()=>[ie(N(Jf),{variant:"dots"}),ie(N(O0)),ie(N(cm))]),_:1},8,["modelValue"])])],32)])}}});const Km={DataSource:[{operatorName:"MySQL",attributes:{connectId:{type:"select",hidden:!1},query:{type:"textarea",hidden:!1}}},{operatorName:"ElasticSearch",attributes:{connectId:{type:"select",hidden:!1},index:{type:"string",hidden:!1},query:{type:"textarea",hidden:!1}}},{operatorName:"SimpleHttp",attributes:{connectId:{type:"select",hidden:!1},method:{type:"string",hidden:!1},header:{type:"textarea",hidden:!1},body:{type:"textarea",hidden:!1}}},{operatorName:"CSV",attributes:{type:{type:"string",hidden:!0,value:"fileUpload"},fileName:{type:"string",hidden:!1}}}],Transform:[{operatorName:"Join",attributes:{}},{operatorName:"Filter",attributes:{}},{operatorName:"Mapping",attributes:{}}],DataTarget:[{operatorName:"MySQL",attributes:{connectId:{type:"select",hidden:!1},query:{type:"textarea",hidden:!1}}},{operatorName:"ElasticSearch",attributes:{connectId:{type:"select",hidden:!1},index:{type:"string",hidden:!1},query:{type:"textarea",hidden:!1}}},{operatorName:"SimpleHttp",attributes:{connectId:{type:"select",hidden:!1},method:{type:"string",hidden:!1},header:{type:"textarea",hidden:!1},body:{type:"textarea",hidden:!1}}},{operatorName:"CSV",attributes:{file:{type:"string",hidden:!1}}}]},Qm=e=>(ql("data-v-f5910186"),e=e(),Zl(),e),Jm=Qm(()=>ce("h1",null,"Workflow",-1)),ey={style:{width:"100%",height:"400px","margin-top":"10px"}},ty=de({__name:"workflow",setup(e){const t=ne([]),n=()=>(alert(JSON.stringify(t.value,null,4)),t.value),o=r=>{let i=[],a=r.nodes;if(a)for(let s in a){let u=a[s];i.push(u)}let l=r.edges;if(l)for(let s in l){let u=l[s];i.push(u)}t.value=i};return(r,i)=>{const a=Un,l=Gm;return H(),K("div",null,[Jm,ie(a,{onClick:i[0]||(i[0]=s=>n())},{default:ae(()=>[nt("SAVE")]),_:1}),ce("div",ey,[ie(l,{setWorkflowJson:N(t),onGetWorkflowJson:o,operators:N(Km)},null,8,["setWorkflowJson","operators"])])])}}});const iy=Gl(ty,[["__scopeId","data-v-f5910186"]]);export{iy as default};
